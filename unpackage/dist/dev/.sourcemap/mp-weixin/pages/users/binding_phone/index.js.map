{"version":3,"sources":["uni-app:///main.js","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/users/binding_phone/index.vue?29ba","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/users/binding_phone/index.vue?b0d0","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/users/binding_phone/index.vue?9beb","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/users/binding_phone/index.vue?bbfa","uni-app:///pages/users/binding_phone/index.vue","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/users/binding_phone/index.vue?8f93","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/users/binding_phone/index.vue?2c1a"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","mixins","components","Verify","editUserModal","privacyAgreementPopup","data","statusBarHeight","pageType","phone","captcha","text","isShow","protocol","inAnimation","authKey","backUrl","pageTitle","configData","canGetPrivacySetting","onLoad","methods","onAgree","submitData","rules","uni","title","icon","duration","that","isLogin","Routine","then","code","spread_spid","spread_code","token","time","catch","console","phoneAuth","met","key","getUserInfo","tab","url","success","ChangeIsDefault","closeEdit","editSuccess","back","delta","privacy"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AAC2N;AAC3N,gBAAgB,gNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAA03B,CAAgB,8xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACiE94B;AACA;AAGA;AAMA;AAMA;AAIA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAxBA;AACA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAwBA;EACAC;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACA;IACA;IAEA;MACA;IACA;IAGA;IACA;MACA;MACA;IACA;IACA;IACA;IACA;MACA;IACA;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;MACA;MACA;QACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;QACAC;UACAC;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAC;UACAH;QACA;QACA;MACA;MACA;QACAG;UACAH;QACA;QACA;MACA;MACA;QACA;UACAA;QACA;QACA;MACA;MACA;IACA;IACAI;MAAA;MACA;MAEAL;QACAC;MACA;MACAK,2BACAC;QACA;UACAC;UACAC;UACAC;UACA1B;UACAC;QACA;UACAe;UACA;UACA;YACAW;YACAC;UACA;UACA;QACA,GACAC;UACAb;UACAA;YACAC;YACAC;YACAC;UACA;QACA;MACA,GACAU;QACAC;MACA;IACA;IACAC;MAAA;MACAf;QACAC;MACA;MACA;MAEAe;MAKAA;QACAhC;QACAC;QACAgC;MACA;QACA;QACA;UACAN;UACAC;QACA;QACA;MACA;QACAZ;QACA;UACAC;QACA;MACA;IACA;IACA;AACA;AACA;IACAiB;MAAA;MACA;MACA;QACAlB;QACAI;QACAA;QACAA;QACA;UACA;QACA;UAEAA;YACAH;YACAC;UACA;YACAiB;YACAC;UACA;QAYA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA,0GACAd;UACAH;YACAH;UACA;UACAG;QACA;UACA;YACAH;UACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAO;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAJ;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBAAA;kBACAH;gBACA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBAAA;kBACAA;gBACA;cAAA;gBACA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAqB;MACA;IACA;IACAC;MACA;MACA;QACAtB;QACAC;MACA;QACAiB;QACAC;MACA;IACA;IACAI;MACA;IACA;IACAC;MACAzB;QACA0B;MACA;IACA;IACAC;MACA3B;QACAoB;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACtVA;AAAA;AAAA;AAAA;AAA6pD,CAAgB,i7CAAG,EAAC,C;;;;;;;;;;;ACAjrD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/users/binding_phone/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/users/binding_phone/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=60acfcf2&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=60acfcf2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60acfcf2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/users/binding_phone/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=60acfcf2&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$t(_vm.pageTitle)\n  var m1 = _vm.pageType == 1 ? _vm.$t(\"绑定手机号\") : null\n  var m2 = !(_vm.pageType == 1) ? _vm.$t(\"手机号登录\") : null\n  var m3 = _vm.pageType == 1 ? _vm.$t(\"登录注册需绑定手机号\") : null\n  var m4 = !(_vm.pageType == 1) ? _vm.$t(\"首次登录会自动注册\") : null\n  var m5 = _vm.$t(\"填写手机号码\")\n  var m6 = _vm.$t(\"填写验证码\")\n  var m7 = _vm.$t(\"\" + (_vm.pageType == 1 ? \"绑定手机号\" : \"立即登录\"))\n  var m8 =\n    _vm.pageType == 0 && !_vm.canGetPrivacySetting\n      ? _vm.$t(\"已阅读并同意\")\n      : null\n  var m9 =\n    _vm.pageType == 0 && !_vm.canGetPrivacySetting\n      ? _vm.$t(\"《用户协议》\")\n      : null\n  var m10 = _vm.pageType == 0 && !_vm.canGetPrivacySetting ? _vm.$t(\"与\") : null\n  var m11 =\n    _vm.pageType == 0 && !_vm.canGetPrivacySetting\n      ? _vm.$t(\"《隐私协议》\")\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.inAnimation = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n        m7: m7,\n        m8: m8,\n        m9: m9,\n        m10: m10,\n        m11: m11,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"wrapper\" :style=\"colorStyle\">\n\t\t<view class=\"bag\"></view>\n\t\t<view class=\"system-height\" :style=\"{ height: statusBarHeight }\"></view>\n\t\t<!-- #ifdef MP -->\n\t\t<view class=\"title-bar\" style=\"height: 43px;\">\n\t\t\t<view class=\"icon\" @click=\"back\" v-if=\"!isHome\">\n\t\t\t\t<image src=\"../static/left.png\"></image>\n\t\t\t</view>\n\t\t\t<view class=\"icon\" @click=\"home\" v-else>\n\t\t\t\t<image src=\"../static/home.png\"></image>\n\t\t\t</view>\n\t\t\t{{$t(pageTitle)}}\n\t\t</view>\n\t\t<!-- #endif -->\n\t\t<view class=\"page-msg\">\n\t\t\t<view class=\"title\">\n\t\t\t\t{{pageType == 1?$t('绑定手机号'):$t('手机号登录')}}\n\t\t\t</view>\n\t\t\t<view class=\"tip\">\n\t\t\t\t{{pageType == 1?$t('登录注册需绑定手机号'):$t('首次登录会自动注册')}}\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"page-form\">\n\t\t\t<view class=\"item\">\n\t\t\t\t<input type='number' :placeholder='$t(`填写手机号码`)' placeholder-class='placeholder' v-model=\"phone\"\n\t\t\t\t\t:maxlength=\"11\"></input>\n\t\t\t</view>\n\t\t\t<view class=\"item acea-row row-between-wrapper\">\n\t\t\t\t<input type='number' :placeholder='$t(`填写验证码`)' placeholder-class='placeholder' :maxlength=\"6\"\n\t\t\t\t\tclass=\"codeIput\" v-model=\"captcha\"></input>\n\t\t\t\t<view class=\"line\">\n\n\t\t\t\t</view>\n\t\t\t\t<button class=\"code font-num\" :class=\"disabled === true ? 'on' : ''\" :disabled='disabled' @click=\"code\">\n\t\t\t\t\t{{ text }}\n\t\t\t\t</button>\n\t\t\t</view>\n\t\t\t<view class=\"btn\" @click=\"submitData\">\n\t\t\t\t{{$t(`${pageType == 1 ? '绑定手机号' : '立即登录'}`)}}\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"protocol\" v-if=\"pageType == 0 && !canGetPrivacySetting\">\n\t\t\t<checkbox-group @click.stop='ChangeIsDefault'>\n\t\t\t\t<checkbox :class=\"inAnimation?'trembling':''\" @animationend='inAnimation=false'\n\t\t\t\t\t:checked=\"protocol ? true : false\" /> <text @click.stop='ChangeIsDefault'>{{$t(`已阅读并同意`)}}</text>\n\t\t\t\t<text class=\"main-color\" @click.stop=\"privacy(4)\">{{$t(`《用户协议》`)}}</text>\n\t\t\t\t{{$t(`与`)}}<text class=\"main-color\" @click.stop=\"privacy(3)\">{{$t(`《隐私协议》`)}}</text>\n\t\t\t</checkbox-group>\n\t\t</view>\n\t\t<Verify @success=\"success\" :captchaType=\"'clickWord'\" :imgSize=\"{ width: '330px', height: '155px' }\"\n\t\t\tref=\"verify\"></Verify>\n\t\t<editUserModal :isShow=\"isShow\" @closeEdit=\"closeEdit\" @editSuccess=\"editSuccess\">\n\t\t</editUserModal>\n\t\t<!-- #ifdef MP -->\n\t\t<privacyAgreementPopup v-if=\"canGetPrivacySetting\" @onReject=\"onReject\" @onAgree=\"onAgree\">\n\t\t</privacyAgreementPopup>\n\t\t<!-- #endif -->\n\n\t</view>\n</template>\n\n<script>\n\tconst app = getApp();\n\tlet statusBarHeight = uni.getSystemInfoSync().statusBarHeight + 'px';\n\timport sendVerifyCode from \"@/mixins/SendVerifyCode\";\n\timport colors from '@/mixins/color.js';\n\timport editUserModal from '@/components/eidtUserModal/index.vue'\n\timport privacyAgreementPopup from '@/components/privacyAgreementPopup/index.vue'\n\timport {\n\t\tbindingUserPhone,\n\t\tverifyCode,\n\t\tregisterVerify,\n\t\tupdatePhone\n\t} from '@/api/api.js';\n\timport {\n\t\tloginMobile,\n\t\tgetCodeApi,\n\t\tgetUserInfo,\n\t\tphoneSilenceAuth\n\t} from \"@/api/user.js\";\n\timport {\n\t\tphoneLogin,\n\t\twechatBindingPhone\n\t} from '@/api/public.js'\n\timport Routine from '@/libs/routine';\n\timport Verify from '../components/verify/index.vue';\n\timport Cache from '@/utils/cache';\n\texport default {\n\t\tmixins: [sendVerifyCode, colors],\n\t\tcomponents: {\n\t\t\tVerify,\n\t\t\teditUserModal,\n\t\t\tprivacyAgreementPopup\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tstatusBarHeight: statusBarHeight,\n\t\t\t\tpageType: 1, // 0 登录 1 绑定手机\n\t\t\t\tphone: '',\n\t\t\t\tcaptcha: '',\n\t\t\t\ttext: '获取验证码',\n\t\t\t\tisShow: false,\n\t\t\t\tprotocol: false,\n\t\t\t\tinAnimation: false,\n\t\t\t\tauthKey: \"\",\n\t\t\t\tbackUrl: \"\",\n\t\t\t\tpageTitle: '绑定手机号',\n\t\t\t\tconfigData: Cache.get('BASIC_CONFIG'),\n\t\t\t\tcanGetPrivacySetting: false,\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\tif (options.authKey) {\n\t\t\t\tthis.authKey = options.authKey\n\t\t\t}\n\t\t\t// #ifdef MP\n\t\t\tif (wx.getPrivacySetting) {\n\t\t\t\tthis.canGetPrivacySetting = true\n\t\t\t}\n\t\t\t// #endif\n\n\t\t\tthis.backUrl = options.backUrl || ''\n\t\t\tif (options.pageType) {\n\t\t\t\tthis.pageType = options.pageType || 1\n\t\t\t\tthis.pageTitle = options.pageType == 1 ? '绑定手机号' : '手机号登录'\n\t\t\t}\n\t\t\tlet pages = getCurrentPages();\n\t\t\tlet prePage = pages[pages.length - 2];\n\t\t\tif (prePage && prePage.route == 'pages/order_addcart/order_addcart') {\n\t\t\t\tthis.isHome = true;\n\t\t\t} else {\n\t\t\t\tthis.isHome = false;\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tonAgree() {\n\t\t\t\tthis.protocol = true\n\t\t\t},\n\t\t\tsubmitData() {\n\t\t\t\tlet that = this;\n\t\t\t\tif (this.pageType == 0) {\n\t\t\t\t\tthis.isLogin()\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (!this.rules()) return\n\t\t\t\tif (!this.authKey) {\n\t\t\t\t\tlet key = this.$Cache.get('snsapiKey');\n\t\t\t\t\tthis.phoneAuth(key)\n\t\t\t\t} else {\n\t\t\t\t\tthis.phoneAuth(this.authKey)\n\t\t\t\t}\n\t\t\t},\n\t\t\trules() {\n\t\t\t\tlet that = this;\n\t\t\t\tif (!this.protocol && this.pageType == 0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: this.$t('请先阅读并同意协议'),\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif (!that.phone) {\n\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\ttitle: that.$t(`请填写手机号码`)\n\t\t\t\t\t});\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif (!(/^1(3|4|5|7|8|9|6)\\d{9}$/i.test(that.phone))) {\n\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\ttitle: that.$t(`请输入正确的手机号码`)\n\t\t\t\t\t});\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif (!that.captcha) {\n\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\ttitle: that.$t(`请填写验证码`)\n\t\t\t\t\t});\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true\n\t\t\t},\n\t\t\tisLogin() {\n\t\t\t\tif (!this.rules()) return\n\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: this.$t(`正在登录中`)\n\t\t\t\t});\n\t\t\t\tRoutine.getCode()\n\t\t\t\t\t.then(code => {\n\t\t\t\t\t\tphoneLogin({\n\t\t\t\t\t\t\t\tcode,\n\t\t\t\t\t\t\t\tspread_spid: app.globalData.spid,\n\t\t\t\t\t\t\t\tspread_code: app.globalData.code,\n\t\t\t\t\t\t\t\tphone: this.phone,\n\t\t\t\t\t\t\t\tcaptcha: this.captcha,\n\t\t\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tlet time = res.data.expires_time - this.$Cache.time();\n\t\t\t\t\t\t\t\tthis.$store.commit('LOGIN', {\n\t\t\t\t\t\t\t\t\ttoken: res.data.token,\n\t\t\t\t\t\t\t\t\ttime: time\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.getUserInfo(res.data.bindName);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: err,\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tphoneAuth(key) {\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: this.$t(`正在登录中`)\n\t\t\t\t});\n\t\t\t\tlet met\n\t\t\t\t// #ifdef MP\n\t\t\t\tmet = phoneLogin\n\t\t\t\t// #endif\n\t\t\t\t// #ifndef MP\n\t\t\t\tmet = wechatBindingPhone\n\t\t\t\t// #endif\n\t\t\t\tmet({\n\t\t\t\t\tphone: this.phone,\n\t\t\t\t\tcaptcha: this.captcha,\n\t\t\t\t\tkey\n\t\t\t\t}).then(res => {\n\t\t\t\t\tlet time = res.data.expires_time - this.$Cache.time();\n\t\t\t\t\tthis.$store.commit('LOGIN', {\n\t\t\t\t\t\ttoken: res.data.token,\n\t\t\t\t\t\ttime: time\n\t\t\t\t\t});\n\t\t\t\t\tthis.getUserInfo(res.data.bindName);\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tthis.$util.Tips({\n\t\t\t\t\t\ttitle: error\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t/**\n\t\t\t * 获取个人用户信息\n\t\t\t */\n\t\t\tgetUserInfo(new_user) {\n\t\t\t\tlet that = this;\n\t\t\t\tgetUserInfo().then(res => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tthat.userInfo = res.data;\n\t\t\t\t\tthat.$store.commit('SETUID', res.data.uid);\n\t\t\t\t\tthat.$store.commit('UPDATE_USERINFO', res.data);\n\t\t\t\t\tif (new_user) {\n\t\t\t\t\t\tthis.isShow = true\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// #ifdef MP\n\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\ttitle: that.$t(`登录成功`),\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\ttab: 3,\n\t\t\t\t\t\t\turl: this.configData.wechat_auth_switch ? 2 : 1\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t// #ifndef MP\n\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\ttitle: that.$t(`登录成功`),\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\ttab: 4,\n\t\t\t\t\t\t\turl: this.backUrl || 'pages/user/index'\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// #endif\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tsuccess(data) {\n\t\t\t\tthis.$refs.verify.hide()\n\t\t\t\tlet that = this;\n\t\t\t\tverifyCode().then(res => {\n\t\t\t\t\tregisterVerify(that.phone, 'reset', res.data.key, this.captchaType, data.captchaVerification)\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\ttitle: res.msg\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthat.sendCode();\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\t\ttitle: err\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * 发送验证码\n\t\t\t *\n\t\t\t */\n\t\t\tasync code() {\n\t\t\t\tlet that = this;\n\t\t\t\tif (!that.phone) return that.$util.Tips({\n\t\t\t\t\ttitle: that.$t(`请填写手机号码`)\n\t\t\t\t});\n\t\t\t\tif (!(/^1(3|4|5|7|8|9|6)\\d{9}$/i.test(that.phone))) return that.$util.Tips({\n\t\t\t\t\ttitle: that.$t(`请输入正确的手机号码`)\n\t\t\t\t});\n\t\t\t\tthis.$refs.verify.show();\n\t\t\t\treturn;\n\t\t\t},\n\t\t\tChangeIsDefault() {\n\t\t\t\tthis.$set(this, 'protocol', !this.protocol);\n\t\t\t},\n\t\t\tcloseEdit() {\n\t\t\t\tthis.isShow = false\n\t\t\t\tthis.$util.Tips({\n\t\t\t\t\ttitle: this.$t(`登录成功`),\n\t\t\t\t\ticon: 'success'\n\t\t\t\t}, {\n\t\t\t\t\ttab: 3,\n\t\t\t\t\turl: 2\n\t\t\t\t});\n\t\t\t},\n\t\t\teditSuccess() {\n\t\t\t\tthis.isShow = false\n\t\t\t},\n\t\t\tback() {\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta: this.configData.wechat_auth_switch ? 2 : 1\n\t\t\t\t})\n\t\t\t},\n\t\t\tprivacy(type) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: \"/pages/users/privacy/index?type=\" + type\n\t\t\t\t})\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.wrapper {\n\t\tbackground-color: #fff;\n\t\tmin-height: 100vh;\n\t\tposition: relative;\n\n\t\t.bag {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 750rpx;\n\t\t\theight: 460rpx;\n\t\t\tbackground: var(--view-linear);\n\t\t}\n\n\t\t.page-msg {\n\t\t\tpadding-top: 160rpx;\n\t\t\tmargin-left: 72rpx;\n\n\t\t\t.title {\n\t\t\t\tfont-size: 48rpx;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcolor: #333333;\n\t\t\t\tline-height: 68rpx;\n\t\t\t}\n\n\t\t\t.tip {\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tfont-weight: 400;\n\t\t\t\tcolor: #333333;\n\t\t\t\tline-height: 40rpx;\n\t\t\t}\n\t\t}\n\n\t\t.page-form {\n\t\t\twidth: 606rpx;\n\t\t\tmargin: 100rpx auto 0 auto;\n\n\t\t\t.item {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 88rpx;\n\t\t\t\tbackground: #F5F5F5;\n\t\t\t\tborder-radius: 45rpx;\n\t\t\t\tpadding: 24rpx 48rpx;\n\t\t\t\tmargin-bottom: 32rpx;\n\n\t\t\t\tinput {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t}\n\n\t\t\t\t.placeholder {\n\t\t\t\t\tcolor: #BBBBBB;\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t}\n\n\t\t\t\tinput.codeIput {\n\t\t\t\t\twidth: 300rpx;\n\t\t\t\t}\n\n\t\t\t\t.line {\n\t\t\t\t\twidth: 2rpx;\n\t\t\t\t\theight: 28rpx;\n\t\t\t\t\tbackground: #CCCCCC;\n\t\t\t\t}\n\n\t\t\t\t.code {\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\tcolor: var(--view-theme);\n\t\t\t\t\tbackground-color: rgba(255, 255, 255, 0);\n\t\t\t\t}\n\n\t\t\t\t.code.on {\n\t\t\t\t\tcolor: #BBBBBB !important;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.btn {\n\t\t\t\twidth: 606rpx;\n\t\t\t\theight: 88rpx;\n\t\t\t\tbackground: var(--view-theme);\n\t\t\t\tborder-radius: 200rpx 200rpx 200rpx 200rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tfont-family: PingFang SC-Regular, PingFang SC;\n\t\t\t\tfont-weight: 400;\n\t\t\t\tcolor: #FFFFFF;\n\t\t\t\tline-height: 44rpx;\n\t\t\t\tmargin-top: 48rpx;\n\t\t\t\tletter-spacing: 1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t.title-bar {\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tfont-size: 34rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #333333;\n\t\tline-height: 48rpx;\n\t}\n\n\t.icon {\n\t\tposition: absolute;\n\t\tleft: 30rpx;\n\t\ttop: 0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\n\t\timage {\n\t\t\twidth: 35rpx;\n\t\t\theight: 35rpx;\n\t\t}\n\t}\n\n\t.protocol {\n\t\tposition: fixed;\n\t\tbottom: 52rpx;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\tmargin: 0 auto;\n\t\tcolor: #999999;\n\t\tfont-size: 24rpx;\n\t\tline-height: 22rpx;\n\t\ttext-align: center;\n\t\tbottom: calc(52rpx + constant(safe-area-inset-bottom)); ///兼容 IOS<11.2/\n\t\tbottom: calc(52rpx + env(safe-area-inset-bottom)); ///兼容 IOS>11.2/\n\n\t\t.main-color {\n\t\t\tcolor: var(--view-theme);\n\t\t}\n\n\t\t.trembling {\n\t\t\tanimation: shake 0.6s;\n\t\t}\n\t}\n\n\t/deep/ uni-checkbox .uni-checkbox-input {\n\t\twidth: 28rpx;\n\t\theight: 28rpx;\n\t}\n\n\t/deep/ uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked::before {\n\t\tfont-size: 24rpx;\n\t}\n\n\t/deep/ uni-checkbox .uni-checkbox-wrapper {\n\t\tmargin-bottom: 1px;\n\t}\n\n\t/*checkbox 选项框大小  */\n\t/deep/ checkbox .wx-checkbox-input {\n\t\twidth: 28rpx;\n\t\theight: 28rpx;\n\t}\n\n\t/*checkbox选中后样式  */\n\t/deep/ checkbox .wx-checkbox-input.wx-checkbox-input-checked {\n\t\tbackground: white;\n\t}\n\n\t/*checkbox选中后图标样式  */\n\t/deep/ checkbox .wx-checkbox-input.wx-checkbox-input-checked::before {\n\t\twidth: 28rpx;\n\t\theight: 28rpx;\n\t\tline-height: 28rpx;\n\t\ttext-align: center;\n\t\tfont-size: 22rpx;\n\t\tbackground: transparent;\n\t\ttransform: translate(-50%, -50%) scale(1);\n\t\t-webkit-transform: translate(-50%, -50%) scale(1);\n\t}\n</style>\n","import mod from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=60acfcf2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=60acfcf2&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1749452850284\n      var cssReload = require(\"D:/download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}