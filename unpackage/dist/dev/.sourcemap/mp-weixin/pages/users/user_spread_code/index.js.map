{"version":3,"sources":["uni-app:///main.js","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/users/user_spread_code/index.vue?dfbd","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/users/user_spread_code/index.vue?9f5a","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/users/user_spread_code/index.vue?83ec","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/users/user_spread_code/index.vue?94d6","uni-app:///pages/users/user_spread_code/index.vue","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/users/user_spread_code/index.vue?5d96","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/users/user_spread_code/index.vue?9fa4"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","authorize","home","zbCode","mixins","data","imgUrls","indicatorDots","posterImageStatus","circular","autoplay","interval","duration","swiperIndex","spreadList","userInfo","poster","isAuto","isShowAuth","spreadData","nickName","siteName","mpUrl","canvasImageUrl","posterImage","codeShow","cid","ifShow","val","size","unit","background","foreground","pdground","icon","iconsize","lv","onval","loadMake","src","codeSrc","wd","hg","qrcode","computed","watch","isLogin","handler","deep","userData","onReady","selector","onShow","onHide","uni","onShareAppMessage","title","imageUrl","path","methods","getUser","onLoadFun","qrR","spreadMsgs","res","mask","i","that","arr2","tempFilePath","downloadImg","filePath","success","routineCode","imgToBase","image","code","codeImg","authColse","bindchange","savePosterPathMp","scope","fail","downloadFilestoreImage","url","resolve","setShareInfoStatus","desc","link","imgUrl","configAppMessage","userSpreadBannerList"],"mappings":"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CA;IACAU;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBACAC;kBACAC;gBACA;cAAA;gBAHAZ;gBAAA,kCAIAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAa;MACA;IAAA,CACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IAEAC;MACA;MACA1B;QACAkB;UACA;YACAlB;cACA2B;cACAT;gBACAlB;kBACAiB;kBACAC;oBACAL;sBACAX;sBACAtB;oBACA;kBACA;kBACAgD;oBACAf;sBACAX;oBACA;kBACA;gBACA;cACA;YACA;UACA;YACAF;cACAiB;cACAC;gBACAL;kBACAX;kBACAtB;gBACA;cACA;cACAgD;gBACAf;kBACAX;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IAqBA;IACA2B;MAAA;MACA;QACA;QACA7B;UACA8B;UACAZ;YACAa;UACA;UACAH;YACA;cACA1B;YACA;UACA;QACA;MACA;IACA;IACA8B;MAAA;MACA;QACA;UACA;YACA;cACAC;cACA/B;cACAgC;cACAC;YACA;YACA,qFACAC;UACA;QACA;UACA;QACA;MAEA;IACA;IACAC;MACA;MACArC;QACAE;QACAS;MACA;MACA;QACAX;QACAa;QACAA;MAIA;QACAb;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC1YA;AAAA;AAAA;AAAA;AAAqoD,CAAgB,y5CAAG,EAAC,C;;;;;;;;;;;ACAzpD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/users/user_spread_code/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/users/user_spread_code/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=5d8acc68&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/users/user_spread_code/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=5d8acc68&\"","var components\ntry {\n  components = {\n    zbCode: function () {\n      return import(\n        /* webpackChunkName: \"components/zb-code/zb-code\" */ \"@/components/zb-code/zb-code.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$t(\"保存海报\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view :style=\"colorStyle\">\n\t\t<view class='distribution-posters'>\n\t\t\t<swiper :indicator-dots=\"indicatorDots\" :autoplay=\"autoplay\" :circular=\"circular\" :interval=\"interval\"\n\t\t\t\t:duration=\"duration\" @change=\"bindchange\" previous-margin=\"40px\" next-margin=\"40px\">\n\t\t\t\t<block v-for=\"(item,index) in spreadData\" :key=\"index\" class=\"img-list\">\n\t\t\t\t\t<swiper-item class=\"aaa\">\n\t\t\t\t\t\t<div class=\"box\" ref=\"bill\" :class=\"swiperIndex == index ? 'active' : 'quiet'\">\n\t\t\t\t\t\t\t<view class=\"user-msg\">\n\t\t\t\t\t\t\t\t<view class=\"user-code\">\n\t\t\t\t\t\t\t\t\t<image class=\"canvas\" :style=\"{height:hg+'px'}\" :src=\"posterImage[index]\"\n\t\t\t\t\t\t\t\t\t\tv-if=\"posterImage[index]\"></image>\n\t\t\t\t\t\t\t\t\t<canvas class=\"canvas\" :style=\"{height:hg+'px'}\" :canvas-id=\"'myCanvas'+ index\"\n\t\t\t\t\t\t\t\t\t\tv-else></canvas>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- <image :src=\"item.wap_poster\" class=\"slide-image\" :class=\"swiperIndex == index ? 'active' : 'quiet'\" mode='aspectFill' /> -->\n\t\t\t\t\t</swiper-item>\n\t\t\t\t</block>\n\t\t\t</swiper>\n\t\t\t<!-- #ifndef H5  -->\n\t\t\t<view class='keep bg-color' @click='savePosterPathMp(posterImage[swiperIndex])'>{{$t(`保存海报`)}}</view>\n\t\t\t<!-- #endif -->\n\t\t\t<!-- #ifndef MP || APP-PLUS -->\n\t\t\t<div class=\"preserve acea-row row-center-wrapper\">\n\t\t\t\t<div class=\"line\"></div>\n\t\t\t\t<div class=\"tip\">{{$t(`长按保存图片`)}}</div>\n\t\t\t\t<div class=\"line\"></div>\n\t\t\t</div>\n\t\t\t<!-- #endif -->\n\t\t</view>\n\t\t<!-- #ifdef MP -->\n\t\t<!-- <authorize @onLoadFun=\"onLoadFun\" :isAuto=\"isAuto\" :isShowAuth=\"isShowAuth\" @authColse=\"authColse\"></authorize> -->\n\t\t<!-- #endif -->\n\t\t<!-- #ifndef MP -->\n\t\t<home></home>\n\t\t<!-- #endif -->\n\t\t<view class=\"qrimg\">\n\t\t\t<zb-code ref=\"qrcode\" :show=\"codeShow\" :cid=\"cid\" :val=\"val\" :size=\"size\" :unit=\"unit\"\n\t\t\t\t:background=\"background\" :foreground=\"foreground\" :pdground=\"pdground\" :icon=\"icon\" :iconSize=\"iconsize\"\n\t\t\t\t:onval=\"onval\" :loadMake=\"loadMake\" @result=\"qrR\" />\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport zbCode from '@/components/zb-code/zb-code.vue'\n\timport {\n\t\tgetUserInfo,\n\t\tspreadBanner,\n\t\tuserShare,\n\t\troutineCode,\n\t\tspreadMsg,\n\t\timgToBase\n\t} from '@/api/user.js';\n\timport {\n\t\ttoLogin\n\t} from '@/libs/login.js';\n\timport {\n\t\tmapGetters\n\t} from \"vuex\";\n\t// #ifdef MP\n\timport authorize from '@/components/Authorize';\n\t// #endif\n\timport home from '@/components/home';\n\timport {\n\t\tTOKENNAME,\n\t\tHTTP_REQUEST_URL\n\t} from '@/config/app.js';\n\timport colors from '@/mixins/color.js';\n\texport default {\n\t\tcomponents: {\n\t\t\t// #ifdef MP\n\t\t\tauthorize,\n\t\t\t// #endif\n\t\t\thome,\n\t\t\tzbCode\n\t\t},\n\t\tmixins: [colors],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\timgUrls: [],\n\t\t\t\tindicatorDots: false,\n\t\t\t\tposterImageStatus: true,\n\t\t\t\tcircular: false,\n\t\t\t\tautoplay: false,\n\t\t\t\tinterval: 3000,\n\t\t\t\tduration: 500,\n\t\t\t\tswiperIndex: 0,\n\t\t\t\tspreadList: [],\n\t\t\t\tuserInfo: {},\n\t\t\t\tposter: '',\n\t\t\t\tisAuto: false, //没有授权的不会自动授权\n\t\t\t\tisShowAuth: false, //是否隐藏授权\n\t\t\t\tspreadData: [{}], //新海报数据\n\t\t\t\tnickName: \"\",\n\t\t\t\tsiteName: \"\",\n\t\t\t\tmpUrl: \"\",\n\t\t\t\tcanvasImageUrl: '',\n\t\t\t\tposterImage: [],\n\t\t\t\t//二维码参数\n\t\t\t\tcodeShow: false,\n\t\t\t\tcid: '1',\n\t\t\t\tifShow: true,\n\t\t\t\tval: \"\", // 要生成的二维码值\n\t\t\t\tsize: 200, // 二维码大小\n\t\t\t\tunit: 'upx', // 单位\n\t\t\t\tbackground: '#FFF', // 背景色\n\t\t\t\tforeground: '#000', // 前景色\n\t\t\t\tpdground: '#000', // 角标色\n\t\t\t\ticon: '', // 二维码图标\n\t\t\t\ticonsize: 40, // 二维码图标大小\n\t\t\t\tlv: 3, // 二维码容错级别 ， 一般不用设置，默认就行\n\t\t\t\tonval: true, // val值变化时自动重新生成二维码\n\t\t\t\tloadMake: true, // 组件加载完成后自动生成二维码\n\t\t\t\tsrc: '', // 二维码生成后的图片地址或base64\n\t\t\t\tcodeSrc: \"\",\n\t\t\t\twd: 0,\n\t\t\t\thg: 0,\n\t\t\t\tqrcode: \"\"\n\t\t\t};\n\t\t},\n\t\tcomputed: mapGetters({\n\t\t\t'isLogin': 'isLogin',\n\t\t\t'userData': 'userInfo',\n\t\t\t'uid': 'uid'\n\t\t}),\n\t\twatch: {\n\t\t\tisLogin: {\n\t\t\t\thandler: function(newV, oldV) {\n\t\t\t\t\tif (newV) {\n\t\t\t\t\t\tthis.userSpreadBannerList();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdeep: true\n\t\t\t},\n\t\t\tuserData: {\n\t\t\t\thandler: function(newV, oldV) {\n\t\t\t\t\tif (newV) {\n\t\t\t\t\t\tthis.$set(this, 'userInfo', newV);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdeep: true\n\t\t\t}\n\t\t},\n\t\tasync onReady() {\n\t\t\tif (this.isLogin) {\n\t\t\t\tthis.val = `${HTTP_REQUEST_URL}?spid=${this.uid}`\n\t\t\t\tawait this.getUser()\n\t\t\t} else {\n\t\t\t\ttoLogin();\n\n\t\t\t}\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tlet selector = uni.createSelectorQuery().select('.aaa');\n\t\t\t\tselector.fields({\n\t\t\t\t\tsize: true\n\t\t\t\t}, data => {\n\t\t\t\t\tthis.wd = data.width\n\t\t\t\t\tthis.hg = data.height\n\t\t\t\t}).exec();\n\t\t\t})\n\t\t},\n\t\tonShow() {\n\n\t\t},\n\t\tonHide() {\n\t\t\tuni.hideLoading();\n\t\t},\n\t\t/**\n\t\t * 用户点击右上角分享\n\t\t */\n\t\t// #ifdef MP\n\t\tonShareAppMessage() {\n\t\t\treturn {\n\t\t\t\ttitle: this.userInfo.nickname + '-' + this.$t(`分销海报`),\n\t\t\t\timageUrl: this.spreadList[0],\n\t\t\t\tpath: '/pages/index/index?spread=' + this.userInfo.uid,\n\t\t\t};\n\t\t},\n\t\t// #endif\n\t\tmethods: {\n\t\t\tgetUser() {\n\t\t\t\tgetUserInfo().then(res => {\n\t\t\t\t\tthis.userInfo = res.data\n\t\t\t\t})\n\t\t\t},\n\t\t\tonLoadFun: function(e) {\n\t\t\t\tthis.$set(this, 'userInfo', e);\n\t\t\t\tthis.userSpreadBannerList();\n\t\t\t},\n\t\t\tqrR(res) {\n\t\t\t\tthis.codeSrc = res\n\t\t\t\tthis.spreadMsgs()\n\t\t\t},\n\t\t\t//获取图片\n\t\t\tasync spreadMsgs() {\n\n\t\t\t\tlet res = await spreadMsg()\n\t\t\t\tthis.spreadData = res.data.spread\n\t\t\t\tthis.nickName = res.data.nickname\n\t\t\t\tthis.siteName = res.data.site_name\n\t\t\t\t// #ifdef MP\n\t\t\t\tthis.qrcode = await this.imgToBase(res.data.qrcode)\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef MP\n\t\t\t\tawait this.routineCode()\n\t\t\t\tlet mpUrl = await this.downloadFilestoreImage(this.mpUrl)\n\t\t\t\t// #endif\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: this.$t(`海报生成中`),\n\t\t\t\t\tmask: true\n\t\t\t\t});\n\n\t\t\t\tfor (let i = 0; i < res.data.spread.length; i++) {\n\t\t\t\t\tlet that = this\n\t\t\t\t\tlet arr2, img\n\t\t\t\t\t// #ifdef MP\t\n\t\t\t\t\tarr2 = [mpUrl, await this.downloadFilestoreImage(res.data.spread[i].pic)]\n\t\t\t\t\t// #endif\n\t\t\t\t\t// #ifdef H5\n\t\t\t\t\timg = await this.imgToBase(res.data.spread[i].pic, res.data.qrcode)\n\t\t\t\t\tarr2 = [img.code || this.codeSrc, img.image]\n\t\t\t\t\t// #endif\n\t\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t\timg = await this.imgToBase(res.data.spread[i].pic, res.data.qrcode)\n\t\t\t\t\tarr2 = [img.code || this.codeSrc, res.data.spread[i].pic]\n\t\t\t\t\t// #endif\n\t\t\t\t\tthat.$util.userPosterCanvas(arr2, res.data.nickname, res.data.site_name, i, this\n\t\t\t\t\t\t.wd,\n\t\t\t\t\t\tthis.hg, (\n\t\t\t\t\t\t\ttempFilePath) => {\n\t\t\t\t\t\t\tthat.$set(that.posterImage, i, tempFilePath);\n\t\t\t\t\t\t\t// #ifdef MP\n\t\t\t\t\t\t\tif (!that.posterImage.length) {\n\t\t\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\t\t\ttitle: that.$t(`小程序二维码需要发布正式版后才能获取到`)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tuni.hideLoading();\n\n\t\t\t},\n\t\t\tdownloadImg() {\n\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\tfilePath: this.posterImage[this.swiperIndex],\n\t\t\t\t\tsuccess: function() {}\n\t\t\t\t});\n\t\t\t},\n\t\t\tasync routineCode() {\n\t\t\t\tlet res = await routineCode()\n\t\t\t\tthis.mpUrl = res.data.url\n\t\t\t},\n\t\t\tasync imgToBase(url, code) {\n\t\t\t\tlet res = await imgToBase({\n\t\t\t\t\timage: url,\n\t\t\t\t\tcode: code\n\t\t\t\t})\n\t\t\t\treturn res.data\n\t\t\t},\n\t\t\t// 二维码生成\n\t\t\tcodeImg() {\n\t\t\t\t// http://当前域名+\"?spread=\"+用户uid\n\t\t\t},\n\t\t\t// 授权关闭\n\t\t\tauthColse: function(e) {\n\t\t\t\tthis.isShowAuth = e\n\t\t\t},\n\t\t\tbindchange(e) {\n\t\t\t\tlet spreadList = this.spreadList;\n\t\t\t\tthis.swiperIndex = e.detail.current;\n\t\t\t\t// this.$set(this, 'poster', spreadList[e.detail.current].poster);\n\t\t\t},\n\t\t\t// #ifdef MP\n\t\t\tsavePosterPathMp(url) {\n\t\t\t\tlet that = this;\n\t\t\t\tuni.getSetting({\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tif (!res.authSetting['scope.writePhotosAlbum']) {\n\t\t\t\t\t\t\tuni.authorize({\n\t\t\t\t\t\t\t\tscope: 'scope.writePhotosAlbum',\n\t\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\t\t\t\tfilePath: url,\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存成功`),\n\t\t\t\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存失败`),\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\t\tfilePath: url,\n\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存成功`),\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存失败`),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t// #endif\n\t\t\t// #ifdef APP-PLUS\n\t\t\tsavePosterPathMp(url) {\n\t\t\t\tlet that = this;\n\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\tfilePath: url,\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\ttitle: that.$t(`保存成功`),\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\ttitle: that.$t(`保存失败`),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t// #endif\n\t\t\t//图片转符合安全域名路径\n\t\t\tdownloadFilestoreImage(url) {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tlet that = this;\n\t\t\t\t\tuni.downloadFile({\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tresolve(res.tempFilePath);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: function() {\n\t\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\t\ttitle: ''\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t},\n\t\t\tsetShareInfoStatus: function() {\n\t\t\t\tif (this.$wechat.isWeixin()) {\n\t\t\t\t\tif (this.isLogin) {\n\t\t\t\t\t\tgetUserInfo().then(res => {\n\t\t\t\t\t\t\tlet configAppMessage = {\n\t\t\t\t\t\t\t\tdesc: this.$t(`分销海报`),\n\t\t\t\t\t\t\t\ttitle: res.data.nickname + '-' + this.$t(`分销海报`),\n\t\t\t\t\t\t\t\tlink: '/pages/index/index?spread=' + res.data.uid,\n\t\t\t\t\t\t\t\timgUrl: this.spreadList[0]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis.$wechat.wechatEvevt([\"updateAppMessageShareData\", \"updateTimelineShareData\"],\n\t\t\t\t\t\t\t\tconfigAppMessage)\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoLogin();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tuserSpreadBannerList: function() {\n\t\t\t\tlet that = this;\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: that.$t(`获取中`),\n\t\t\t\t\tmask: true,\n\t\t\t\t})\n\t\t\t\tspreadBanner().then(res => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tthat.$set(that, 'spreadList', res.data);\n\t\t\t\t\tthat.$set(that, 'poster', res.data[0].poster);\n\t\t\t\t\t// #ifdef H5\n\t\t\t\t\tthat.setShareInfoStatus();\n\t\t\t\t\t// #endif\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\tpage {\n\t\tbackground-color: #a3a3a3 !important;\n\t}\n\n\t.canvas {\n\t\twidth: 100%;\n\t\t// height: 550px;\n\t}\n\n\t.box {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: relative;\n\t\tborder-radius: 18rpx;\n\t\toverflow: hidden;\n\n\t\t.user-msg {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\n\t\t\t.user-code {\n\t\t\t\twidth: 100%;\n\t\t\t\t// height: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tjustify-content: space-between;\n\n\t\t\t\timage {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t.img-list {\n\t\tmargin-right: 40px;\n\t}\n\n\t.distribution-posters swiper {\n\t\twidth: 100%;\n\t\theight: 1000rpx;\n\t\tposition: relative;\n\t\tmargin-top: 40rpx;\n\t}\n\n\t.distribution-posters .slide-image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tmargin: 0 auto;\n\t\tborder-radius: 15rpx;\n\t}\n\n\t.distribution-posters /deep/.active {\n\t\ttransform: none;\n\t\ttransition: all 0.2s ease-in 0s;\n\t}\n\n\t.distribution-posters /deep/ .quiet {\n\t\ttransform: scale(0.8333333);\n\t\ttransition: all 0.2s ease-in 0s;\n\t}\n\n\t.distribution-posters .keep {\n\t\tfont-size: 30rpx;\n\t\tcolor: #fff;\n\t\twidth: 600rpx;\n\t\theight: 80rpx;\n\t\tborder-radius: 50rpx;\n\t\ttext-align: center;\n\t\tline-height: 80rpx;\n\t\tmargin: 38rpx auto;\n\t}\n\n\t.distribution-posters .preserve {\n\t\tcolor: #fff;\n\t\ttext-align: center;\n\t\tmargin-top: 38rpx;\n\t}\n\n\t.distribution-posters .preserve .line {\n\t\twidth: 100rpx;\n\t\theight: 1px;\n\t\tbackground-color: #fff;\n\t}\n\n\t.distribution-posters .preserve .tip {\n\t\tmargin: 0 30rpx;\n\t}\n</style>\n","import mod from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1749452849317\n      var cssReload = require(\"D:/download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}