{"version":3,"sources":["uni-app:///main.js","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/activity/goods_bargain_details/index.vue?408b","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/activity/goods_bargain_details/index.vue?6c1b","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/activity/goods_bargain_details/index.vue?5307","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/activity/goods_bargain_details/index.vue?13b2","uni-app:///pages/activity/goods_bargain_details/index.vue","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/components/zb-code/zb-code.vue?2b2c","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/components/zb-code/zb-code.vue?95ac","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/components/zb-code/zb-code.vue?8f65","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/components/zb-code/zb-code.vue?b4df","uni-app:///components/zb-code/zb-code.vue","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/components/zb-code/zb-code.vue?50f6","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/components/zb-code/zb-code.vue?7ad4","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/activity/poster-poster/index.vue?af4c","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/activity/poster-poster/index.vue?a191","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/activity/poster-poster/index.vue?5970","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/activity/poster-poster/index.vue?335a","uni-app:///pages/activity/poster-poster/index.vue","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/activity/poster-poster/index.vue?7b25","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/activity/poster-poster/index.vue?f4cb","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/activity/goods_bargain_details/index.vue?8eb2","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/pages/activity/goods_bargain_details/index.vue?9f40"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","countDown","authorize","home","bargainPoster","mixins","data","imgHost","countDownDay","countDownHour","countDownMinute","countDownSecond","active","id","userInfo","bargainUid","bargainUserInfo","bargainUserId","bargainInfo","userBargainInfo","offset","limit","limitStatus","bargainUserHelpList","bargainUserHelpInfo","userBargainPrice","status","peopleCount","retunTop","bargainPartake","isHelp","interval","userBargainStatus","bargainSumCount","productStock","quota","userBargainStatusHelp","navH","statusPay","bargainPrice","datatime","offest","tagStyle","img","table","video","H5ShareBox","systemH","isAuto","isShowAuth","pages","posters","weixinStatus","couponsHidden","followCode","codeShow","cid","ifShow","val","size","unit","background","foreground","pdground","icon","iconsize","lv","onval","loadMake","src","codeSrc","picUrl","picList","popup","barga","support","lock","lace","bargainPosterModal","posterImageModal","posterImage","computed","watch","isLogin","handler","deep","colorStatus","onLoad","uni","success","that","app","title","methods","getPosterImgae","colorShow","listenerActionSheet","shareModal","getBargainUserBargainPricePoster","listenerActionClose","goFriend","openTap","authColse","goProduct","url","userBargain","goBack","delta","gobargainUserInfo","userId","bargainId","bargainUserUid","goPay","productId","cartNum","uniqueId","combinationId","secKillId","new","then","catch","getBargainDetails","tab","currentBargainUser","setBargain","setBargainHelp","getBargainUser","bargainUserHelpListNew","goBargainList","close","addShareBargain","savePosterPath","scope","filePath","fail","onHide","onUnload","onShareAppMessage","share","path","imageUrl","name","props","type","default","show","iconSize","usingComponents","showLoading","loadingText","result","_makeCode","qrcode","context","canvasId","text","correctLevel","image","imageSize","cbResult","duration","_clearCode","_saveCode","_result","_empty","rt","setTimeout","cpSize","mounted","zbCode","comType","comId","comBargain","canvasStatus","parameter","navbar","return","color","class","bargain","from","uid","wd","hg","posterBag","mpUrl","createSelectorQuery","in","select","boundingClientRect","exec","onReady","selector","fields","getPosterInfo","userData","mask","resData","arr","routineCode","res","downloadFilestoreImage","resolve","setDomain","imgToBase","code","downloadImg","savePosterPathMp","qrR"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AAC2N;AAC3N,gBAAgB,gNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,2PAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzKA;AAAA;AAAA;AAAA;AAA03B,CAAgB,8xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACgR94B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA;AAAA,eAGA;EACAC;IACAC;IAEAC;IAEAC;IACA;IACAC;EACA;EACA;AACA;AACA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;MAAA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC,UACA;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAI;QACAH;QACAC;QACAC;MACA,GACA;QACAH;QACAI;QACAH;QACAC;QACAC;MACA,GACA;QACAH;QACAI;QACAH;QACAC;QACAC;MACA,EACA;MACAE;MACAC;MACAC;IACA;EACA;EACAC;EACAC;IACAC;MACAC;QACA;UACA;UACA;QACA;MACA;MACAC;IACA;IACAC;MACA;QACA;MACA;IACA;EACA;EACA;AACA;AACA;EACAC;IAAA;IACA;IAMA;MACA;QACA;MACA;IACA;IAEAC;MACAC;QACAC;QACAA;MACA;IACA;IAGA;IACA;MACAA;IACA;IACA;;IAEA;MACA;MACA;QACA;QACA;QACA;QACA;MACA;QACAC;MACA;IACA;IACA;IACA;IAEA;MACAD;MACAA;IACA;IAEA;MACA;QACAA;MACA;MACA;MACA;IACA;MACA;MACA;IACA;IACAF;MACAI;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;MAAA;IAEA;IACA;IAmCA;AACA;AACA;AACA;IACAC;MACA;QACA;MACA;QAMA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;QACA;QACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACAf;QACAgB;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;UACA;YACAb;UACA;QACA;UACAF;QACA;MACA;IACA;IACAgB;MACAlB;QACAmB;MACA;IACA;IACAC;MACA;MACA;MACA;QACAC;MACA;MACA;QACAC;QACAC;MACA;QACArB;MACA;IACA;IACAsB;MACA;MACA;MACA;QACAC;QACAH;QACAI;QACAC;QACAC;QACAC;QACAC;MACA;MACA,8BACAC;QACA/B;UACAgB;QACA;MACA,GACAgB;QACA;UACA5B;QACA;MACA;IACA;IACA6B;MACA;MACA;MACA;MACA,qDACAF;QACA7B;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAF;UACAI;QACA;QACAF;QACAA;QACA;MAIA,GACA8B;QACA9B,gBACA;UACAE;QACA,GACA;UACA8B;UACAlB;QACA,EACA;MACA;IACA;IACAmB;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA,8CACA;QACAlC;QACAA;QACAA;QACAA;MACA,GACA;QACAA;UACAE;QACA;MACA,EACA;IACA;IACAiC;MACA;MACA;MACA;QACAf;QACAC;MACA;MACA,qCACAQ;QACA7B;QACAA;QACAA;MACA,GACA8B;QACA9B;UACAE;QACA;QACAF;MACA;IACA;IACAoC;MACA;MACA;MACA;QACAhB;QACAC;QACA3F;QACAC;MACA;MACA;QACA;QACA;QACA;QAEA0G;QAEArC;QACAA;QACAA;MACA;IACA;IACAsC;MACAxC;QACAgB;MACA;IACA;IACAyB;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACAxC;QACA;MACA;IACA;IAqCAyC;MACA;MACA3C;QACAC;UACA;YACAD;cACA4C;cACA3C;gBACAD;kBACA6C;kBACA5C;oBACAC;oBACAA;sBACAE;sBACA5B;oBACA;kBACA;kBACAsE;oBACA5C;sBACAE;oBACA;kBACA;gBACA;cACA;YACA;UACA;YACAJ;cACA6C;cACA5C;gBACAC;gBACAA;kBACAE;kBACA5B;gBACA;cACA;cACAsE;gBACA5C;kBACAE;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;EACA;EACA;AACA;AACA;EACA2C;IACA;EACA;EACA;AACA;AACA;EACAC;IACA;EACA;EAEA;AACA;AACA;EACAC;IACA;MACAC;QACA9C;QACA+C;QACAC;MACA;IACAlD;IACAA;IACA;EACA;AAEA;AAAA,2B;;;;;;;;;;;;;AC73BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4I;AAC5I;AAC2D;AACL;AACa;;;AAGnE;AACwN;AACxN,gBAAgB,gNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,0GAAM;AACR,EAAE,mHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA62B,CAAgB,gyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACaj4B;;;;;;;;;;;;;;AACA;AAAA,eACA;EACAmD;EACAC;IACAtF;MACAuF;MACAC;IACA;IACArF;MACAoF;MACAC;IACA;IACApF;MACAmF;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAtF;MACAqF;MACAC;IACA;IACAnF;MACAkF;MACAC;IACA;IACAlF;MACAiF;MACAC;IACA;IACAjF;MACAgF;MACAC;IACA;IACAhF;MACA+E;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACA9E;MACA6E;MACAC;IACA;IACA7E;MACA4E;MACAC;IACA;IACA5E;MACA2E;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACAL;MACAC;IACA;IACAK;MACAN;MACAC;IACA;EACA;EACA1I;IACA;MACAgJ;IACA;EACA;EACAzD;IACA0D;MACA;MACA;QACAC;UACAC;UAAA;UACAC;UAAA;UACAP;UAAA;UACAC;UAAA;UACAC;UAAA;UACAM;UAAA;UACAhG;UAAA;UACAE;UAAA;UACAC;UAAA;UACAC;UAAA;UACA6F;UAAA;UACAC;UAAA;UACAC;UAAA;UACAC;YAAA;YACArE;UACA;QACA;MACA;QACAF;UACAI;UACA5B;UACAgG;QACA;MACA;IACA;IACAC;MACA;MACAT;IACA;IACAU;MACA;MACA;QACA1E;UACA6C;UACA5C;YACAD;cACAI;cACA5B;cACAgG;YACA;UACA;QACA;MACA;IACA;IACAG;MACA;MACA;IACA;IACAC;MACA;QACAC;MACA;QACAA;MACA;QACAA;MACA;QACA;MACA;QACA;MACA;QACAA;MACA;MACA;IACA;EACA;EACAnF;IACAvB;MAAA;MACA;QACA;QACA;UACA2G;YACA;UACA;QACA;MACA;IACA;IACA5G;MAAA;MACA;QACA;UACA4G;YACA;UACA;QACA;MACA;IACA;EACA;EACArF;IACAsF;MACA;QACA;MACA;QACA;MACA;IACA;EACA;EACAC;IAAA;IACA;MACA;QACAF;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACrMA;AAAA;AAAA;AAAA;AAA0uC,CAAgB,2lCAAG,EAAC,C;;;;;;;;;;;ACA9vC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AAC2N;AAC3N,gBAAgB,gNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAA03B,CAAgB,8xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACoC94B;AACA;AAIA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAtK;IACAyK;EACA;EACApK;EACA;EACAyI;IACA4B;MACA3B;MACAC;IACA;IACA2B;MACA5B;MACAC;IACA;IACA4B;MACA7B;MACAC;IACA;EACA;EACA1I;IACA;MACAuK;MACA7F;MACA8F;QACAC;QACAC;QACApF;QACAqF;QACAC;MACA;MACAnC;MACAlI;MACAsK;MACAtB;MACAuB;MACAC;MACA;MACA9H;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAgH;MACAC;MACAC;MACAC;IACA;EACA;EACAlG;IACA;MAEA;MAMA;MACA;QACA;QACA;QACA;UACA;UACAC;YACAI;UACA;QACA;UACAJ;YACAI;UACA;QACA;MACA;QACA,gBACA;UACAA;UACA5B;QACA,GACA;UACA0D;UACAlB;QACA,EACA;MACA;IACA;EACA;EACAgE;IAAA;IACA;MAEA;MAMA;MACAhF;QACAI;MACA;MACA;MACA;MACA;MAUA;QACAJ,IACAkG,sBACAC,UACAC,mBACAC;UACA;UACA;QACA,GACAC;MACA;MACA;MACAxB;QACA;MACA;IACA;EACA;EACAyB;IACA;MAiBAzB;MACA;QAAA;QACA;QACA0B,SACAC,OACA;UACAtI;QACA,GACA;UACA;UACA;UACA;QACA,EACA,CACAmI;MACA;MACA;IACA;EACA;EACAjG;IACAqG;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAxG,eACAc;gBACAlG;kBACAO;kBACAuK;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAe;gBACA;gBAEA3G;kBACAI;kBACAwG;gBACA;gBAAA,MACA1G;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA,6CACA6B;kBACA8E;gBACA,GACA7E;kBACA9B;oBACAE;kBACA;kBACA;gBACA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA,OAEA,iDACA2B;kBACA8E;gBACA,GACA7E;kBACA9B;oBACAE;kBACA;kBACA;gBACA;cAAA;gBAQAyG;gBAAA,KACAA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;cAAA;gBAAAZ;gBAAA,cACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAAa;gBAEA;kBACA5G;oBACA;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA6G;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MAAA;MACA;QACA;QACAjH;UACAgB;UACAf;YACAiH;UACA;UACApE;YACA;cACA1C;YACA;UACA;QACA;MACA;IACA;IACA;IACA+G;MACAnG;MACA;MACA,kDACA;IACA;IACAoG;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBACA/C;kBACAgD;gBACA;cAAA;gBAHAL;gBAAA,kCAKAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAM;IACAC;MACA;MAkBAvH;QACAC;UACA;YACAD;cACA4C;cACA3C;gBACAD;kBACA6C;kBACA5C;oBACAC;sBACAE;sBACA5B;oBACA;kBACA;kBACAsE;oBACA5C;sBACAE;oBACA;kBACA;gBACA;cACA;cACA0C;gBACA5C;kBACAE;gBACA;cACA;YACA;UACA;YACAJ;cACA6C;cACA5C;gBACAC;kBACAE;kBACA5B;gBACA;cACA;cACAsE;gBACA5C;kBACAE;gBACA;cACA;YACA;UACA;QACA;MACA;IAWA;IACAoH;MACA;IACA;IAEA7E;MACA;MACA3C;QACAC;UACA;YACAD;cACA4C;cACA3C;gBACAD;kBACA6C;kBACA5C;oBACAC;oBACAA;sBACAE;sBACA5B;oBACA;kBACA;kBACAsE;oBACA5C;sBACAE;oBACA;kBACA;gBACA;cACA;YACA;UACA;YACAJ;cACA6C;cACA5C;gBACAC;gBACAA;kBACAE;kBACA5B;gBACA;cACA;cACAsE;gBACA5C;kBACAE;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;EAEA;AACA;AAAA,2B;;;;;;;;;;;;;ACpbA;AAAA;AAAA;AAAA;AAA6vC,CAAgB,ylCAAG,EAAC,C;;;;;;;;;;;ACAjxC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAqoD,CAAgB,y5CAAG,EAAC,C;;;;;;;;;;;ACAzpD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/activity/goods_bargain_details/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/activity/goods_bargain_details/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=07a662b0&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/activity/goods_bargain_details/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=07a662b0&\"","var components\ntry {\n  components = {\n    jyfParser: function () {\n      return import(\n        /* webpackChunkName: \"components/jyf-parser/jyf-parser\" */ \"@/components/jyf-parser/jyf-parser.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$t(\"人查看\")\n  var m1 = _vm.$t(\"人分享\")\n  var m2 = _vm.$t(\"人参与\")\n  var m3 = _vm.bargainUid == _vm.userInfo.uid ? _vm.$t(\"倒计时\") : null\n  var m4 = _vm.bargainUid == _vm.userInfo.uid ? _vm.$t(\"天\") : null\n  var m5 = _vm.bargainUid == _vm.userInfo.uid ? _vm.$t(\"时\") : null\n  var m6 = _vm.bargainUid == _vm.userInfo.uid ? _vm.$t(\"分\") : null\n  var m7 = _vm.bargainUid == _vm.userInfo.uid ? _vm.$t(\"秒\") : null\n  var m8 = _vm.bargainUid != _vm.userInfo.uid ? _vm.$t(\"邀请您帮忙砍价\") : null\n  var m9 = _vm.bargainInfo.product_is_show ? _vm.$t(\"查看商品\") : null\n  var m10 = _vm.$t(\"当前\")\n  var m11 = _vm.$t(\"$\")\n  var m12 = _vm.$t(\"最低\")\n  var m13 = _vm.$t(\"$\")\n  var m14 = _vm.userBargainInfo.price > 0 ? _vm.$t(\"已砍\") : null\n  var m15 = _vm.userBargainInfo.price > 0 ? _vm.$t(\"还剩\") : null\n  var m16 =\n    _vm.userBargainInfo.bargainType == 1 &&\n    _vm.productStock > 0 &&\n    _vm.quota > 0\n      ? _vm.$t(\"立即参与砍价\")\n      : null\n  var m17 =\n    _vm.userBargainInfo.bargainType == 1 &&\n    (_vm.productStock <= 0 || _vm.quota <= 0)\n      ? _vm.$t(\"商品暂无库存\")\n      : null\n  var m18 =\n    _vm.userBargainInfo.bargainType == 2 ? _vm.$t(\"邀请好友帮砍价\") : null\n  var m19 = _vm.userBargainInfo.bargainType == 2 ? _vm.$t(\"已有\") : null\n  var m20 =\n    _vm.userBargainInfo.bargainType == 2 ? _vm.$t(\"位好友成功砍价\") : null\n  var m21 = _vm.userBargainInfo.bargainType == 3 ? _vm.$t(\"帮好友砍一刀\") : null\n  var m22 =\n    _vm.userBargainInfo.bargainType == 4 ? _vm.$t(\"好友已砍价成功\") : null\n  var m23 = _vm.userBargainInfo.bargainType == 4 ? _vm.$t(\"我也要参与\") : null\n  var m24 =\n    _vm.userBargainInfo.bargainType == 5 ? _vm.$t(\"已成功帮助好友砍价\") : null\n  var m25 = _vm.userBargainInfo.bargainType == 5 ? _vm.$t(\"我也要参与\") : null\n  var m26 =\n    _vm.userBargainInfo.bargainType == 6\n      ? _vm.$t(\"恭喜您砍价成功，快去支付\")\n      : null\n  var m27 = _vm.userBargainInfo.bargainType == 6 ? _vm.$t(\"立即支付\") : null\n  var m28 = _vm.userBargainInfo.bargainType == 6 ? _vm.$t(\"抢更多商品\") : null\n  var m29 = _vm.$t(\"砍价帮\")\n  var l0 = _vm.__map(_vm.bargainUserHelpList, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var m30 = index < 3 || !_vm.couponsHidden ? _vm.$t(\"砍掉\") : null\n    var m31 = index < 3 || !_vm.couponsHidden ? _vm.$t(\"$\") : null\n    return {\n      $orig: $orig,\n      m30: m30,\n      m31: m31,\n    }\n  })\n  var g0 = _vm.bargainUserHelpList.length\n  var m32 = g0 > 3 && _vm.couponsHidden ? _vm.$t(\"更多\") : null\n  var m33 = g0 > 3 && !_vm.couponsHidden ? _vm.$t(\"关闭\") : null\n  var m34 = !_vm.limitStatus ? _vm.$t(\"点击加载更多\") : null\n  var m35 = _vm.$t(\"商品详情\")\n  var m36 = _vm.$t(\"砍价规则\")\n  var m37 = _vm.bargainUid == _vm.userInfo.uid ? _vm.$t(\"您已砍掉\") : null\n  var m38 =\n    _vm.bargainUid == _vm.userInfo.uid\n      ? _vm.$t(\"元，听说分享次数越多砍价成功的机会越大哦\")\n      : null\n  var m39 = _vm.bargainUid == _vm.userInfo.uid ? _vm.$t(\"邀请好友帮砍价\") : null\n  var m40 = !(_vm.bargainUid == _vm.userInfo.uid) ? _vm.$t(\"成功帮砍\") : null\n  var m41 = !(_vm.bargainUid == _vm.userInfo.uid) ? _vm.$t(\"$\") : null\n  var m42 = !(_vm.bargainUid == _vm.userInfo.uid)\n    ? _vm.$t(\"您也可以砍价低价拿哦，快去挑选心仪的商品吧\")\n    : null\n  var m43 = !(_vm.bargainUid == _vm.userInfo.uid) ? _vm.$t(\"我也要参与\") : null\n  var m44 = _vm.posterImageModal ? _vm.$t(\"保存到手机\") : null\n  var m45 = _vm.$t(\"发送给朋友\")\n  var m46 = _vm.$t(\"生成海报\")\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.H5ShareBox = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n        m7: m7,\n        m8: m8,\n        m9: m9,\n        m10: m10,\n        m11: m11,\n        m12: m12,\n        m13: m13,\n        m14: m14,\n        m15: m15,\n        m16: m16,\n        m17: m17,\n        m18: m18,\n        m19: m19,\n        m20: m20,\n        m21: m21,\n        m22: m22,\n        m23: m23,\n        m24: m24,\n        m25: m25,\n        m26: m26,\n        m27: m27,\n        m28: m28,\n        m29: m29,\n        l0: l0,\n        g0: g0,\n        m32: m32,\n        m33: m33,\n        m34: m34,\n        m35: m35,\n        m36: m36,\n        m37: m37,\n        m38: m38,\n        m39: m39,\n        m40: m40,\n        m41: m41,\n        m42: m42,\n        m43: m43,\n        m44: m44,\n        m45: m45,\n        m46: m46,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"main-warper\" style=\"background-color: var(--view-theme); padding-bottom: 50rpx\" :style=\"colorStyle\">\r\n\t\t<view class=\"bargain\">\r\n\t\t\t<!-- #ifndef APP-PLUS || MP -->\r\n\t\t\t<view class=\"iconfont icon-xiangzuo\" v-if=\"retunTop\" @tap=\"goBack\" :style=\"'top:' + navH + 'px'\"></view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<view :style=\"'background-image: url(' + (bargainUid != userInfo.uid ? imgHost + picUrl.support : imgHost + picUrl.barga) + ');'\" class=\"header\">\r\n\t\t\t\t<view class=\"people\">\r\n\t\t\t\t\t{{ peopleCount.lookCount || 0 }}{{ $t(`人查看`) }} 丨 {{ peopleCount.shareCount || 0 }}{{ $t(`人分享`) }} 丨 {{ peopleCount.userCount || 0 }}{{ $t(`人参与`) }}\r\n\t\t\t\t</view>\r\n\t\t\t\t<countDown\r\n\t\t\t\t\t:tipText=\"$t(`倒计时`)\"\r\n\t\t\t\t\t:dayText=\"$t(`天`)\"\r\n\t\t\t\t\t:hourText=\"$t(`时`)\"\r\n\t\t\t\t\t:minuteText=\"$t(`分`)\"\r\n\t\t\t\t\t:secondText=\"$t(`秒`)\"\r\n\t\t\t\t\t:datatime=\"datatime\"\r\n\t\t\t\t\t:isDay=\"true\"\r\n\t\t\t\t\tv-if=\"bargainUid == userInfo.uid\"\r\n\t\t\t\t></countDown>\r\n\t\t\t\t<view v-if=\"bargainUid != userInfo.uid\" class=\"pictxt acea-row row-center-wrapper\">\r\n\t\t\t\t\t<view class=\"pictrue\">\r\n\t\t\t\t\t\t<image :src=\"bargainUserInfo.avatar\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t{{ bargainUserInfo.nickname || '' }}\r\n\t\t\t\t\t\t<text>{{ $t(`邀请您帮忙砍价`) }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"wrapper\">\r\n\t\t\t\t<view class=\"pictxt acea-row row-between-wrapper\" @tap=\"goProduct\">\r\n\t\t\t\t\t<view class=\"pictrue\">\r\n\t\t\t\t\t\t<image :src=\"bargainInfo.image\"></image>\r\n\t\t\t\t\t\t<view class=\"bargain_view\" v-if=\"bargainInfo.product_is_show\">\r\n\t\t\t\t\t\t\t{{ $t(`查看商品`) }}\r\n\t\t\t\t\t\t\t<text class=\"iconfont icon-jiantou iconfonts\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"text acea-row row-column-around\">\r\n\t\t\t\t\t\t<view class=\"line2\">{{ bargainInfo.title || '' }}</view>\r\n\t\t\t\t\t\t<view class=\"money\">\r\n\t\t\t\t\t\t\t{{ $t(`当前`) }}: {{ $t(`$`) }}\r\n\t\t\t\t\t\t\t<text class=\"num\">{{ bargainInfo.price || '' }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"successNum\">{{ $t(`最低`) }}:{{ $t(`$`) }}{{ bargainInfo.min_price || '' }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 进度条 -->\r\n\t\t\t\t<block v-if=\"userBargainInfo.price > 0\">\r\n\t\t\t\t\t<view class=\"cu-progress acea-row row-middle round margin-top\">\r\n\t\t\t\t\t\t<view class=\"acea-row row-middle bg-red\" :style=\"'width:' + userBargainInfo.pricePercent + '%;'\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"money acea-row row-between-wrapper\">\r\n\t\t\t\t\t\t<view>{{ $t(`已砍`) }}{{ userBargainInfo.alreadyPrice }}</view>\r\n\t\t\t\t\t\t<view>{{ $t(`还剩`) }}{{ userBargainInfo.price }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<!-- 自己砍价 -->\r\n\t\t\t\t<view v-if=\"userBargainInfo.bargainType == 1\">\r\n\t\t\t\t\t<view class=\"bargainBnt\" @tap=\"userBargain\" v-if=\"productStock > 0 && quota > 0\">{{ $t(`立即参与砍价`) }}</view>\r\n\t\t\t\t\t<view class=\"bargainBnt grey\" v-if=\"productStock <= 0 || quota <= 0\">{{ $t(`商品暂无库存`) }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 帮助砍价、帮砍成功： -->\r\n\t\t\t\t<view v-if=\"userBargainInfo.bargainType == 2\">\r\n\t\t\t\t\t<view class=\"bargainBnt\" @tap=\"shareModal\">{{ $t(`邀请好友帮砍价`) }}</view>\r\n\t\t\t\t\t<view class=\"tip\">\r\n\t\t\t\t\t\t{{ $t(`已有`) }}\r\n\t\t\t\t\t\t<text class=\"num\">{{ userBargainInfo.count }}</text>\r\n\t\t\t\t\t\t{{ $t(`位好友成功砍价`) }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view v-if=\"userBargainInfo.bargainType == 3\">\r\n\t\t\t\t\t<view class=\"bargainBnt\" @tap=\"setBargainHelp\">{{ $t(`帮好友砍一刀`) }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"userBargainInfo.bargainType == 4\">\r\n\t\t\t\t\t<view class=\"bargainSuccess\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-xiaolian\"></text>\r\n\t\t\t\t\t\t{{ $t(`好友已砍价成功`) }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"bargainBnt\" @tap=\"currentBargainUser\">{{ $t(`我也要参与`) }}</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view v-if=\"userBargainInfo.bargainType == 5\">\r\n\t\t\t\t\t<view class=\"bargainSuccess\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-xiaolian\"></text>\r\n\t\t\t\t\t\t{{ $t(`已成功帮助好友砍价`) }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"bargainBnt\" @tap=\"currentBargainUser\">{{ $t(`我也要参与`) }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"userBargainInfo.bargainType == 6\">\r\n\t\t\t\t\t<view class=\"bargainSuccess\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-xiaolian\"></text>\r\n\t\t\t\t\t\t{{ $t(`恭喜您砍价成功，快去支付`) }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"bargainBnt\" @tap=\"goPay\">{{ $t(`立即支付`) }}</view>\r\n\t\t\t\t\t<view class=\"bargainBnt on\" @tap=\"goBargainList\">{{ $t(`抢更多商品`) }}</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"lock\" :style=\"'background-image: url(' + imgHost + picUrl.lock + ');'\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bargainGang\">\r\n\t\t\t\t<view class=\"title acea-row row-center-wrapper\">\r\n\t\t\t\t\t<view class=\"pictrue\">\r\n\t\t\t\t\t\t<image :src=\"picUrl.lace\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"titleCon\">{{ $t(`砍价帮`) }}</view>\r\n\t\t\t\t\t<view class=\"pictrue on\">\r\n\t\t\t\t\t\t<image :src=\"picUrl.lace\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"list\">\r\n\t\t\t\t\t<block v-for=\"(item, index) in bargainUserHelpList\" :key=\"index\" v-if=\"index < 3 || !couponsHidden\">\r\n\t\t\t\t\t\t<view class=\"item acea-row row-between-wrapper\">\r\n\t\t\t\t\t\t\t<view class=\"pictxt acea-row row-between-wrapper\">\r\n\t\t\t\t\t\t\t\t<view class=\"pictrue\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.avatar\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"name line1\">{{ item.nickname }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"line1\">{{ item.add_time }}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"money\">\r\n\t\t\t\t\t\t\t\t<text class=\"iconfont icon-kanjia\"></text>\r\n\t\t\t\t\t\t\t\t{{ $t(`砍掉`) }}{{ $t(`$`) }}{{ item.price }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<view class=\"open acea-row row-center-wrapper\" @click=\"openTap\" v-if=\"bargainUserHelpList.length > 3\">\r\n\t\t\t\t\t\t{{ couponsHidden ? $t(`更多`) : $t(`关闭`) }}\r\n\t\t\t\t\t\t<text class=\"iconfont\" :class=\"couponsHidden == true ? 'icon-xiangxia' : 'icon-xiangshang'\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"load\" v-if=\"!limitStatus\" @tap=\"getBargainUser\">{{ $t(`点击加载更多`) }}</view>\r\n\t\t\t\t<view class=\"lock\" :style=\"'background-image: url(' + imgHost + picUrl.lock + ');'\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"goodsDetails\">\r\n\t\t\t\t<view class=\"title acea-row row-center-wrapper\">\r\n\t\t\t\t\t<view class=\"pictrue\">\r\n\t\t\t\t\t\t<image src=\"/images/left.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"titleCon\">{{ $t(`商品详情`) }}</view>\r\n\t\t\t\t\t<view class=\"pictrue on\">\r\n\t\t\t\t\t\t<image src=\"/images/left.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"conter\">\r\n\t\t\t\t\t<jyf-parser :html=\"bargainInfo.description\" ref=\"article\" :tag-style=\"tagStyle\"></jyf-parser>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"lock\" :style=\"'background-image: url(' + imgHost + picUrl.lock + ');'\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"goodsDetails\">\r\n\t\t\t\t<view class=\"title acea-row row-center-wrapper\">\r\n\t\t\t\t\t<view class=\"pictrue\">\r\n\t\t\t\t\t\t<image src=\"/images/left.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"titleCon\">{{ $t(`砍价规则`) }}</view>\r\n\t\t\t\t\t<view class=\"pictrue on\">\r\n\t\t\t\t\t\t<image src=\"/images/left.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"conter\">\r\n\t\t\t\t\t<jyf-parser :html=\"bargainInfo.rule\" ref=\"article\" :tag-style=\"tagStyle\"></jyf-parser>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bargainTip\" :class=\"active == true ? 'on' : ''\">\r\n\t\t\t\t<view class=\"pictrue\">\r\n\t\t\t\t\t<image :src=\"picUrl.popup\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"bargainUid == userInfo.uid\">\r\n\t\t\t\t\t<view class=\"cutOff\">\r\n\t\t\t\t\t\t{{ $t(`您已砍掉`) }}\r\n\t\t\t\t\t\t<text style=\"color: var(--view-theme)\">{{ userBargainPrice }}</text>\r\n\t\t\t\t\t\t{{ $t(`元，听说分享次数越多砍价成功的机会越大哦`) }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- #ifdef MP -->\r\n\t\t\t\t\t<button class=\"tipBnt\" @tap=\"shareModal\">{{ $t(`邀请好友帮砍价`) }}</button>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t\t\t<view class=\"tipBnt\" @tap=\"shareModal\">{{ $t(`邀请好友帮砍价`) }}</view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-else>\r\n\t\t\t\t\t<view class=\"help\" style=\"color: #fc4141\">{{ $t(`成功帮砍`) }}{{ $t(`$`) }}{{ userBargainPrice }}</view>\r\n\t\t\t\t\t<view class=\"cutOff on\">{{ $t(`您也可以砍价低价拿哦，快去挑选心仪的商品吧`) }}</view>\r\n\t\t\t\t\t<view @tap=\"currentBargainUser\" class=\"tipBnt\">{{ $t(`我也要参与`) }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"mask\" catchtouchmove=\"true\" v-show=\"active == true\" @tap=\"close\"></view>\r\n\t\t</view>\r\n\t\t<!-- 发送给朋友图片 -->\r\n\t\t<view class=\"share-box\" v-if=\"H5ShareBox\">\r\n\t\t\t<image :src=\"imgHost + '/statics/images/share-info.png'\" @click=\"H5ShareBox = false\"></image>\r\n\t\t</view>\r\n\t\t<!-- #ifndef MP -->\r\n\t\t<home></home>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifdef H5 -->\r\n\t\t<view class=\"followCode\" v-if=\"followCode\">\r\n\t\t\t<view class=\"pictrue\">\r\n\t\t\t\t<view class=\"code-bg\"><img class=\"imgs\" :src=\"codeSrc\" /></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"mask\" @click=\"closeFollowCode\"></view>\r\n\t\t</view>\r\n\t\t<zb-code\r\n\t\t\tref=\"qrcode\"\r\n\t\t\tv-show=\"false\"\r\n\t\t\t:show=\"codeShow\"\r\n\t\t\t:cid=\"cid\"\r\n\t\t\t:val=\"val\"\r\n\t\t\t:size=\"size\"\r\n\t\t\t:unit=\"unit\"\r\n\t\t\t:background=\"background\"\r\n\t\t\t:foreground=\"foreground\"\r\n\t\t\t:pdground=\"pdground\"\r\n\t\t\t:icon=\"icon\"\r\n\t\t\t:iconSize=\"iconsize\"\r\n\t\t\t:onval=\"onval\"\r\n\t\t\t:loadMake=\"loadMake\"\r\n\t\t\t@result=\"qrR\"\r\n\t\t/>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifdef MP -->\r\n\t\t<canvas class=\"canvas posters\" canvas-id=\"myCanvas\"></canvas>\r\n\t\t<!-- #endif -->\r\n\t\t<div class=\"posters\" v-if=\"bargainPosterModal\">\r\n\t\t\t<bargainPoster v-if=\"bargainPosterModal\" ref=\"bargainPoster\" comType=\"1\" :comId=\"id\" :comBargain=\"bargainUid\" @getPosterImgae=\"getPosterImgae\"></bargainPoster>\r\n\t\t</div>\r\n\t\t<!-- 海报展示 -->\r\n\t\t<view class=\"mask\" v-if=\"posterImageModal\" @click=\"listenerActionClose\"></view>\r\n\t\t<view class=\"poster-pop\" v-if=\"posterImageModal\">\r\n\t\t\t<image src=\"/static/images/poster-close.png\" class=\"close\" @click=\"listenerActionClose\"></image>\r\n\t\t\t<image class=\"poster-img\" :src=\"posterImage\"></image>\r\n\t\t\t<!-- #ifndef H5  -->\r\n\t\t\t<view class=\"save-poster\" @click=\"savePosterPath\">{{ $t(`保存到手机`) }}</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t<view class=\"keep\">{{ $t(`长按图片可以保存到手机`) }}</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t</view>\r\n\t\t<!-- 分享按钮 -->\r\n\t\t<view class=\"generate-posters acea-row row-middle\" :class=\"posters ? 'on' : ''\">\r\n\t\t\t<!-- #ifndef MP -->\r\n\t\t\t<button class=\"item\" hover-class=\"none\" v-if=\"weixinStatus === true\" @click=\"H5ShareBox = true\">\r\n\t\t\t\t<view class=\"iconfont icon-weixin3\"></view>\r\n\t\t\t\t<view class=\"\">{{ $t(`发送给朋友`) }}</view>\r\n\t\t\t</button>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<!-- #ifdef MP -->\r\n\t\t\t<button class=\"item\" open-type=\"share\" hover-class=\"none\" @click=\"goFriend\">\r\n\t\t\t\t<view class=\"iconfont icon-weixin3\"></view>\r\n\t\t\t\t<view class=\"\">{{ $t(`发送给朋友`) }}</view>\r\n\t\t\t</button>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t<view class=\"item\" @click=\"appShare('WXSceneSession')\">\r\n\t\t\t\t<view class=\"iconfont icon-weixin3\"></view>\r\n\t\t\t\t<view class=\"\">{{ $t(`微信好友`) }}</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<button class=\"item\" hover-class=\"none\" @click=\"getBargainUserBargainPricePoster\">\r\n\t\t\t\t<view class=\"iconfont icon-haibao\"></view>\r\n\t\t\t\t<view class=\"\">{{ $t(`生成海报`) }}</view>\r\n\t\t\t</button>\r\n\t\t</view>\r\n\t\t<view class=\"mask\" v-if=\"posters\" @click=\"listenerActionClose\"></view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport zbCode from '@/components/zb-code/zb-code.vue';\r\nimport bargainPoster from '../poster-poster/index.vue';\r\nimport { getBargainDetail, postBargainStartUser, postBargainStart, postBargainHelp, postBargainHelpList, postBargainShare } from '../../../api/activity.js';\r\nimport { colorChange } from '@/api/api.js';\r\nimport { postCartAdd } from '../../../api/store.js';\r\nimport util from '../../../utils/util.js';\r\nimport { toLogin } from '@/libs/login.js';\r\nimport { mapGetters } from 'vuex';\r\n// #ifdef MP\r\nimport authorize from '@/components/Authorize';\r\n// #endif\r\nimport countDown from '@/components/countDown';\r\nimport home from '@/components/home';\r\nimport parser from '@/components/jyf-parser/jyf-parser';\r\nimport { TOKENNAME, HTTP_REQUEST_URL } from '@/config/app.js';\r\nconst app = getApp();\r\nimport colors from '@/mixins/color';\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tcountDown,\r\n\t\t// #ifdef MP\r\n\t\tauthorize,\r\n\t\t// #endif\r\n\t\thome,\r\n\t\t'jyf-parser': parser,\r\n\t\tbargainPoster\r\n\t},\r\n\t/**\r\n\t * 页面的初始数据\r\n\t */\r\n\tmixins: [colors],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\timgHost: HTTP_REQUEST_URL,\r\n\t\t\tcountDownDay: '00',\r\n\t\t\tcountDownHour: '00',\r\n\t\t\tcountDownMinute: '00',\r\n\t\t\tcountDownSecond: '00',\r\n\t\t\tactive: false,\r\n\t\t\tid: 0, //砍价产品编号\r\n\t\t\tuserInfo: {}, //当前用户信息\r\n\t\t\tbargainUid: 0, //开启砍价用户\r\n\t\t\tbargainUserInfo: {}, //开启砍价用户信息\r\n\t\t\tbargainUserId: 0, //开启砍价编号\r\n\t\t\tbargainInfo: [], //砍价产品\r\n\t\t\tuserBargainInfo: [],\r\n\t\t\toffset: 0,\r\n\t\t\tlimit: 20,\r\n\t\t\tlimitStatus: false,\r\n\t\t\tbargainUserHelpList: [],\r\n\t\t\tbargainUserHelpInfo: [],\r\n\t\t\tuserBargainPrice: 0,\r\n\t\t\tstatus: '', // 0 开启砍价   1  朋友帮忙砍价  2 朋友帮忙砍价成功 3 完成砍价  4 砍价失败 5已创建订单\r\n\t\t\tpeopleCount: [], //分享人数  浏览人数 参与人数\r\n\t\t\tretunTop: true,\r\n\t\t\tbargainPartake: 0,\r\n\t\t\tisHelp: false,\r\n\t\t\tinterval: null,\r\n\t\t\tuserBargainStatus: 0, //判断自己是否砍价\r\n\t\t\tbargainSumCount: 0, // 购买次数\r\n\t\t\tproductStock: 0, //判断是否售罄；\r\n\t\t\tquota: 0, //判断是否已限量；\r\n\t\t\tuserBargainStatusHelp: true,\r\n\t\t\tnavH: '',\r\n\t\t\tstatusPay: '',\r\n\t\t\tbargainPrice: 0,\r\n\t\t\tdatatime: 0,\r\n\t\t\toffest: '',\r\n\t\t\ttagStyle: {\r\n\t\t\t\timg: 'width:100%;display:block;',\r\n\t\t\t\ttable: 'width:100%',\r\n\t\t\t\tvideo: 'width:100%'\r\n\t\t\t},\r\n\t\t\tH5ShareBox: false, //公众号分享图片\r\n\t\t\tsystemH: 100,\r\n\t\t\tisAuto: false, //没有授权的不会自动授权\r\n\t\t\tisShowAuth: false, //是否隐藏授权\r\n\t\t\tpages: '',\r\n\t\t\tposters: false,\r\n\t\t\tweixinStatus: false,\r\n\t\t\tcouponsHidden: true,\r\n\t\t\tfollowCode: false,\r\n\t\t\t//二维码参数\r\n\t\t\tcodeShow: false,\r\n\t\t\tcid: '1',\r\n\t\t\tifShow: true,\r\n\t\t\tval: '', // 要生成的二维码值\r\n\t\t\tsize: 200, // 二维码大小\r\n\t\t\tunit: 'upx', // 单位\r\n\t\t\tbackground: '#FFF', // 背景色\r\n\t\t\tforeground: '#000', // 前景色\r\n\t\t\tpdground: '#000', // 角标色\r\n\t\t\ticon: '', // 二维码图标\r\n\t\t\ticonsize: 40, // 二维码图标大小\r\n\t\t\tlv: 3, // 二维码容错级别 ， 一般不用设置，默认就行\r\n\t\t\tonval: true, // val值变化时自动重新生成二维码\r\n\t\t\tloadMake: true, // 组件加载完成后自动生成二维码\r\n\t\t\tsrc: '', // 二维码生成后的图片地址或base64\r\n\t\t\tcodeSrc: '',\r\n\t\t\tpicUrl: {},\r\n\t\t\tpicList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tpopup: '../static/bulet.jpg',\r\n\t\t\t\t\tbarga: '/statics/system_images/bargain_dt_bg_0.jpeg',\r\n\t\t\t\t\tsupport: '/statics/system_images/bargain_dt2_bg_0.jpeg',\r\n\t\t\t\t\tlock: '/statics/system_images/bargain_dt_lock_0.png',\r\n\t\t\t\t\tlace: '../static/buled.png'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tpopup: '../static/greent.jpg',\r\n\t\t\t\t\tbarga: '/statics/system_images/bargain_dt_bg_1.jpeg',\r\n\t\t\t\t\tsupport: '/statics/system_images/bargain_dt2_bg_1.jpeg',\r\n\t\t\t\t\tlock: '/statics/system_images/bargain_dt_lock_1.png',\r\n\t\t\t\t\tlace: '../static/greend.png'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tpopup: '../static/redt.jpg',\r\n\t\t\t\t\tlace: '../static/redd.png',\r\n\t\t\t\t\tbarga: '/statics/system_images/bargain_dt_bg_2.jpeg',\r\n\t\t\t\t\tsupport: '/statics/system_images/bargain_dt2_bg_2.jpeg',\r\n\t\t\t\t\tlock: '/statics/system_images/bargain_dt_lock_2.png'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tpopup: '../static/pinkt.jpg',\r\n\t\t\t\t\tlace: '../static/pinkd.png',\r\n\t\t\t\t\tbarga: '/statics/system_images/bargain_dt_bg_3.jpeg',\r\n\t\t\t\t\tsupport: '/statics/system_images/bargain_dt2_bg_3.jpeg',\r\n\t\t\t\t\tlock: '/statics/system_images/bargain_dt_lock_3.png'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tpopup: '../static/oranget.jpg',\r\n\t\t\t\t\tlace: '../static/oranged.png',\r\n\t\t\t\t\tbarga: '/statics/system_images/bargain_dt_bg_4.jpeg',\r\n\t\t\t\t\tsupport: '/statics/system_images/bargain_dt2_bg_4.jpeg',\r\n\t\t\t\t\tlock: '/statics/system_images/bargain_dt_lock_4.png'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbargainPosterModal: false,\r\n\t\t\tposterImageModal: false,\r\n\t\t\tposterImage: ''\r\n\t\t};\r\n\t},\r\n\tcomputed: mapGetters(['isLogin']),\r\n\twatch: {\r\n\t\tisLogin: {\r\n\t\t\thandler: function (newV, oldV) {\r\n\t\t\t\tif (newV) {\r\n\t\t\t\t\tthis.getBargainDetails();\r\n\t\t\t\t\tthis.addShareBargain();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeep: true\r\n\t\t},\r\n\t\tcolorStatus(newValue, oldValue) {\r\n\t\t\tif (newValue) {\r\n\t\t\t\tthis.colorShow(newValue);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t * 生命周期函数--监听页面加载\r\n\t */\r\n\tonLoad(options) {\r\n\t\tvar that = this;\r\n\t\t// #ifdef H5\r\n\t\tif (this.$wechat.isWeixin()) {\r\n\t\t\tthis.weixinStatus = true;\r\n\t\t}\r\n\t\t// #endif\r\n\t\tif (!this.colorStatus) {\r\n\t\t\tcolorChange('color_change').then((res) => {\r\n\t\t\t\tthis.colorShow(res.data.status);\r\n\t\t\t});\r\n\t\t}\r\n\t\t// #ifdef MP\r\n\t\tuni.getSystemInfo({\r\n\t\t\tsuccess: function (res) {\r\n\t\t\t\tthat.systemH = res.statusBarHeight;\r\n\t\t\t\tthat.navH = that.systemH + 10;\r\n\t\t\t}\r\n\t\t});\r\n\t\t// #endif\r\n\r\n\t\tvar pages = getCurrentPages();\r\n\t\tif (pages.length <= 1) {\r\n\t\t\tthat.retunTop = false;\r\n\t\t}\r\n\t\t//扫码携带参数处理\r\n\t\t// #ifdef MP\r\n\t\tif (options.scene) {\r\n\t\t\tvar value = util.getUrlParams(decodeURIComponent(options.scene));\r\n\t\t\tif (typeof value === 'object') {\r\n\t\t\t\tif (value.id) options.id = value.id;\r\n\t\t\t\tif (value.bargain) options.bargain = value.bargain;\r\n\t\t\t\t//记录推广人uid\r\n\t\t\t\tif (value.pid) app.globalData.spid = value.pid;\r\n\t\t\t} else {\r\n\t\t\t\tapp.globalData.spid = value;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//记录推广人uid\r\n\t\tif (options.spid) app.globalData.spid = options.spid;\r\n\t\t// #endif\r\n\t\tif (options.hasOwnProperty('id')) {\r\n\t\t\tthat.id = options.id;\r\n\t\t\tthat.bargainUid = options.bargain || 0;\r\n\t\t}\r\n\r\n\t\tif (this.isLogin) {\r\n\t\t\tif (that.bargainUid == 'undefined' || !that.bargainUid) {\r\n\t\t\t\tthat.bargainUid = that.$store.state.app.uid;\r\n\t\t\t}\r\n\t\t\tthis.getBargainDetails();\r\n\t\t\tthis.addShareBargain();\r\n\t\t} else {\r\n\t\t\tthis.$Cache.set('login_back_url', `/pages/activity/goods_bargain_details/index?id=${options.id}&bargain=${this.bargainUid}`);\r\n\t\t\ttoLogin();\r\n\t\t}\r\n\t\tuni.setNavigationBarTitle({\r\n\t\t\ttitle: this.$t(`砍价详情`)\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tgetPosterImgae(url) {\r\n\t\t\tthis.posterImage = url;\r\n\t\t\tthis.bargainPosterModal = false;\r\n\t\t\tthis.posterImageModal = true;\r\n\t\t},\r\n\t\tcolorShow(colorStatus) {\r\n\t\t\tswitch (colorStatus) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.picUrl = this.picList[0];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tthis.picUrl = this.picList[1];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tthis.picUrl = this.picList[2];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tthis.picUrl = this.picList[3];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tthis.picUrl = this.picList[4];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthis.picUrl = this.picList[2];\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// app分享\r\n\t\t// #ifdef APP-PLUS\r\n\t\tappShare(scene) {\r\n\t\t\tlet that = this;\r\n\t\t\tlet routes = getCurrentPages(); // 获取当前打开过的页面路由数组\r\n\t\t\tlet curRoute = routes[routes.length - 1].$page.fullPath; // 获取当前页面路由，也就是最后一个打开的页面路由\r\n\r\n\t\t\tuni.share({\r\n\t\t\t\tprovider: 'weixin',\r\n\t\t\t\tscene: scene,\r\n\t\t\t\ttype: 0,\r\n\t\t\t\thref: `${HTTP_REQUEST_URL}${curRoute}`,\r\n\t\t\t\ttitle: that.bargainInfo.title,\r\n\t\t\t\timageUrl: that.bargainInfo.small_image,\r\n\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: this.$t(`分享成功`),\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.posters = false;\r\n\t\t\t\t},\r\n\t\t\t\tfail: function (err) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: this.$t(`分享失败`),\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.posters = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tqrR(res) {\r\n\t\t\tthis.codeSrc = res;\r\n\t\t},\r\n\t\t// #endif\r\n\t\t/**\r\n\t\t * 分享打开\r\n\t\t *\r\n\t\t */\r\n\t\tlistenerActionSheet() {\r\n\t\t\tif (this.isLogin == false) {\r\n\t\t\t\ttoLogin();\r\n\t\t\t} else {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tif (this.$wechat.isWeixin() === true) {\r\n\t\t\t\t\tthis.weixinStatus = true;\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.posters = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tshareModal() {\r\n\t\t\tthis.active = false;\r\n\t\t\tthis.posters = true;\r\n\t\t},\r\n\t\tgetBargainUserBargainPricePoster() {\r\n\t\t\tif (!this.posterImage) {\r\n\t\t\t\tthis.bargainPosterModal = true;\r\n\t\t\t\tthis.posters = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.bargainPosterModal = false;\r\n\t\t\t\tthis.posterImageModal = true;\r\n\t\t\t}\r\n\t\t\t// uni.navigateTo({\r\n\t\t\t// \turl: '/pages/activity/poster-poster/index?type=1&id=' + this.id + '&bargain=' + this.bargainUid\r\n\t\t\t// });\r\n\t\t},\r\n\t\t// 分享关闭\r\n\t\tlistenerActionClose() {\r\n\t\t\tthis.posters = false;\r\n\t\t\tthis.posterImageModal = false;\r\n\t\t},\r\n\t\t// 小程序关闭分享弹窗；\r\n\t\tgoFriend() {\r\n\t\t\tthis.posters = false;\r\n\t\t},\r\n\t\topenTap() {\r\n\t\t\tthis.$set(this, 'couponsHidden', !this.couponsHidden);\r\n\t\t},\r\n\t\t// 授权关闭\r\n\t\tauthColse(e) {\r\n\t\t\tthis.isShowAuth = e;\r\n\t\t},\r\n\t\t// 去商品页\r\n\t\tgoProduct() {\r\n\t\t\tif (!this.bargainInfo.product_is_show) return;\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/goods_details/index?id=${this.bargainInfo.product_id}`\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 自己砍价；\r\n\t\tuserBargain() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (that.userInfo.uid == that.bargainUid) {\r\n\t\t\t\tif (that.userBargainInfo.bargainOrderCount >= that.bargainInfo.num) {\r\n\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\ttitle: that.$t(`该商品每人限购`) + `${that.bargainInfo.num}${that.bargainInfo.unit_name}`\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.setBargain();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tgoBack() {\r\n\t\t\tuni.navigateBack({\r\n\t\t\t\tdelta: 1\r\n\t\t\t});\r\n\t\t},\r\n\t\tgobargainUserInfo() {\r\n\t\t\t//获取开启砍价用户信息\r\n\t\t\tvar that = this;\r\n\t\t\tvar data = {\r\n\t\t\t\tuserId: that.bargainUid\r\n\t\t\t};\r\n\t\t\tpostBargainStartUser({\r\n\t\t\t\tbargainId: that.id,\r\n\t\t\t\tbargainUserUid: that.bargainUid\r\n\t\t\t}).then((res) => {\r\n\t\t\t\tthat.$set(that, 'bargainUserInfo', res.data);\r\n\t\t\t});\r\n\t\t},\r\n\t\tgoPay() {\r\n\t\t\t//立即支付\r\n\t\t\tvar that = this;\r\n\t\t\tvar data = {\r\n\t\t\t\tproductId: that.bargainInfo.product_id,\r\n\t\t\t\tbargainId: that.id,\r\n\t\t\t\tcartNum: 1,\r\n\t\t\t\tuniqueId: '',\r\n\t\t\t\tcombinationId: 0,\r\n\t\t\t\tsecKillId: 0,\r\n\t\t\t\tnew: 1\r\n\t\t\t};\r\n\t\t\tpostCartAdd(data)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/goods/order_confirm/index?new=1&cartId=' + res.data.cartId\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\ttitle: err\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tgetBargainDetails() {\r\n\t\t\t//获取砍价产品详情\r\n\t\t\tvar that = this;\r\n\t\t\tvar id = that.id;\r\n\t\t\tgetBargainDetail(id, that.bargainUid)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthat.bargainInfo = res.data.bargain;\r\n\t\t\t\t\tthat.userBargainInfo = res.data.userBargainInfo;\r\n\t\t\t\t\tthat.bargainPrice = res.data.bargain.price;\r\n\t\t\t\t\tthat.userInfo = res.data.userInfo;\r\n\t\t\t\t\tthat.productStock = res.data.bargain.attr.product_stock;\r\n\t\t\t\t\tthat.quota = res.data.bargain.attr.quota;\r\n\t\t\t\t\tthat.datatime = res.data.bargain.stop_time;\r\n\t\t\t\t\tthat.pages = '/pages/activity/goods_bargain_details/index?id=' + that.id + '&bargain=' + that.bargainUid + '&scene=' + that.userInfo.uid;\r\n\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\ttitle: res.data.bargain.title.substring(0, 13) + '...'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.bargainUserHelpList = [];\r\n\t\t\t\t\tthat.getBargainUser();\r\n\t\t\t\t\tif (that.bargainUid != that.userInfo.uid) that.gobargainUserInfo();\r\n\t\t\t\t\t//#ifdef H5\r\n\t\t\t\t\tthat.setOpenShare();\r\n\t\t\t\t\t//#endif\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (err) {\r\n\t\t\t\t\tthat.$util.Tips(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: err\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttab: 2,\r\n\t\t\t\t\t\t\turl: '/pages/activity/goods_bargain/index'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tcurrentBargainUser() {\r\n\t\t\t//当前用户砍价\r\n\t\t\tthis.$set(this, 'bargainUid', this.userInfo.uid);\r\n\t\t\tthis.setBargain();\r\n\t\t},\r\n\t\tsetBargain() {\r\n\t\t\t//参与砍价\r\n\t\t\tvar that = this;\r\n\t\t\tpostBargainStart(that.id).then(\r\n\t\t\t\t(res) => {\r\n\t\t\t\t\tthat.$set(that, 'userBargainPrice', res.data.price);\r\n\t\t\t\t\tthat.$set(that, 'active', true);\r\n\t\t\t\t\tthat.getBargainDetails();\r\n\t\t\t\t\tthat.userBargainStatus = 1;\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\tthat.$util.Tips({\r\n\t\t\t\t\t\ttitle: error\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tsetBargainHelp() {\r\n\t\t\t//帮好友砍价\r\n\t\t\tvar that = this;\r\n\t\t\tvar data = {\r\n\t\t\t\tbargainId: that.id,\r\n\t\t\t\tbargainUserUid: that.bargainUid\r\n\t\t\t};\r\n\t\t\tpostBargainHelp(data)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthat.$set(that, 'userBargainPrice', res.data.price);\r\n\t\t\t\t\tthat.$set(that, 'active', true);\r\n\t\t\t\t\tthat.getBargainDetails();\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tthat.$util.Tips({\r\n\t\t\t\t\t\ttitle: err\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.getBargainDetails();\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tgetBargainUser() {\r\n\t\t\t//获取砍价帮\r\n\t\t\tvar that = this;\r\n\t\t\tvar data = {\r\n\t\t\t\tbargainId: that.id,\r\n\t\t\t\tbargainUserUid: that.bargainUid,\r\n\t\t\t\toffset: that.offset,\r\n\t\t\t\tlimit: that.limit\r\n\t\t\t};\r\n\t\t\tpostBargainHelpList(data).then((res) => {\r\n\t\t\t\tvar bargainUserHelpListNew = [];\r\n\t\t\t\tvar bargainUserHelpList = that.bargainUserHelpList;\r\n\t\t\t\tvar len = res.data.length;\r\n\r\n\t\t\t\tbargainUserHelpListNew = bargainUserHelpList.concat(res.data);\r\n\r\n\t\t\t\tthat.$set(that, 'bargainUserHelpList', res.data);\r\n\t\t\t\tthat.$set(that, 'limitStatus', data.limit > len);\r\n\t\t\t\tthat.$set(that, 'offest', Number(data.offset) + Number(data.limit));\r\n\t\t\t});\r\n\t\t},\r\n\t\tgoBargainList() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/activity/goods_bargain/index'\r\n\t\t\t});\r\n\t\t},\r\n\t\tclose() {\r\n\t\t\tthis.$set(this, 'active', false);\r\n\t\t},\r\n\t\taddShareBargain() {\r\n\t\t\t//添加分享次数 获取人数\r\n\t\t\tvar that = this;\r\n\t\t\tpostBargainShare(this.id).then((res) => {\r\n\t\t\t\tthat.$set(that, 'peopleCount', res.data);\r\n\t\t\t\tthis.pages = '/pages/activity/goods_bargain_details/index?id=' + this.id + '&bargain=' + this.bargainUid + '&spid=' + this.userInfo.uid;\r\n\t\t\t});\r\n\t\t},\r\n\t\t//#ifdef H5\r\n\t\tsetOpenShare() {\r\n\t\t\tlet that = this;\r\n\t\t\tlet configTimeline = {\r\n\t\t\t\ttitle: that.$t(`您的好友`) + that.userInfo.nickname + that.$t(`邀请您砍价`) + that.bargainInfo.title,\r\n\t\t\t\tdesc: that.bargainInfo.info,\r\n\t\t\t\tlink:\r\n\t\t\t\t\twindow.location.protocol +\r\n\t\t\t\t\t'//' +\r\n\t\t\t\t\twindow.location.host +\r\n\t\t\t\t\t'/pages/activity/goods_bargain_details/index?id=' +\r\n\t\t\t\t\tthat.id +\r\n\t\t\t\t\t'&bargain=' +\r\n\t\t\t\t\tthat.userInfo.uid +\r\n\t\t\t\t\t'&spid=' +\r\n\t\t\t\t\tthis.userInfo.uid,\r\n\t\t\t\timgUrl: that.bargainInfo.image\r\n\t\t\t};\r\n\t\t\tif (this.$wechat.isWeixin()) {\r\n\t\t\t\tthis.$wechat\r\n\t\t\t\t\t.wechatEvevt(['updateAppMessageShareData', 'updateTimelineShareData', 'onMenuShareAppMessage', 'onMenuShareTimeline'], configTimeline)\r\n\t\t\t\t\t.then((res) => {})\r\n\t\t\t\t\t.catch((res) => {\r\n\t\t\t\t\t\tif (res.is_ready) {\r\n\t\t\t\t\t\t\tres.wx.updateAppMessageShareData(configTimeline);\r\n\t\t\t\t\t\t\tres.wx.updateTimelineShareData(configTimeline);\r\n\t\t\t\t\t\t\tres.wx.onMenuShareAppMessage(configTimeline);\r\n\t\t\t\t\t\t\tres.wx.onMenuShareTimeline(configTimeline);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tcloseFollowCode() {\r\n\t\t\tthis.$set(this, 'followCode', false);\r\n\t\t},\r\n\t\t//#endif\r\n\t\tsavePosterPath() {\r\n\t\t\tlet that = this;\r\n\t\t\tuni.getSetting({\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tif (!res.authSetting['scope.writePhotosAlbum']) {\r\n\t\t\t\t\t\tuni.authorize({\r\n\t\t\t\t\t\t\tscope: 'scope.writePhotosAlbum',\r\n\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\t\t\t\t\tfilePath: that.posterImage,\r\n\t\t\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\t\t\tthat.posterImageClose();\r\n\t\t\t\t\t\t\t\t\t\tthat.$util.Tips({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存成功`),\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail: function (res) {\r\n\t\t\t\t\t\t\t\t\t\tthat.$util.Tips({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存失败`)\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\t\t\tfilePath: that.posterImage,\r\n\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\tthat.posterImageClose();\r\n\t\t\t\t\t\t\t\tthat.$util.Tips({\r\n\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存成功`),\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function (res) {\r\n\t\t\t\t\t\t\t\tthat.$util.Tips({\r\n\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存失败`)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t * 生命周期函数--监听页面隐藏\r\n\t */\r\n\tonHide: function () {\r\n\t\tif (this.interval !== null) clearInterval(this.interval);\r\n\t},\r\n\t/**\r\n\t * 生命周期函数--监听页面卸载\r\n\t */\r\n\tonUnload: function () {\r\n\t\tif (this.interval !== null) clearInterval(this.interval);\r\n\t},\r\n\t//#ifdef MP\r\n\t/**\r\n\t * 用户点击右上角分享\r\n\t */\r\n\tonShareAppMessage: function () {\r\n\t\tlet that = this,\r\n\t\t\tshare = {\r\n\t\t\t\ttitle: that.$t(`您的好友`) + that.userInfo.nickname + this.$t(`邀请您砍价`) + that.bargainInfo.title + this.$t(`go_help`),\r\n\t\t\t\tpath: '/pages/activity/goods_bargain_details/index?id=' + this.id + '&bargain=' + this.bargainUid + '&spid=' + this.userInfo.uid,\r\n\t\t\t\timageUrl: that.bargainInfo.image\r\n\t\t\t};\r\n\t\tthat.close();\r\n\t\tthat.addShareBargain();\r\n\t\treturn share;\r\n\t}\r\n\t//#endif\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\npage {\r\n\t// background-color: #e93323 !important;\r\n}\r\n\r\n.generate-posters {\r\n\twidth: 100%;\r\n\theight: 170rpx;\r\n\tbackground-color: #fff;\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n\tz-index: 300;\r\n\ttransform: translate3d(0, 100%, 0);\r\n\ttransition: all 0.3s cubic-bezier(0.25, 0.5, 0.5, 0.9);\r\n\tborder-top: 1rpx solid #eee;\r\n}\r\n\r\n.generate-posters.on {\r\n\ttransform: translate3d(0, 0, 0);\r\n}\r\n\r\n.generate-posters .item {\r\n\tflex: 1;\r\n\ttext-align: center;\r\n\tfont-size: 30rpx;\r\n}\r\n\r\n.generate-posters .item .iconfont {\r\n\tfont-size: 80rpx;\r\n\tcolor: #5eae72;\r\n}\r\n\r\n.generate-posters .item .iconfont.icon-haibao {\r\n\tcolor: #5391f1;\r\n}\r\n\r\n.bargain .bargainGang .open {\r\n\tfont-size: 24rpx;\r\n\tcolor: #999;\r\n\tmargin-top: 30rpx;\r\n}\r\n\r\n.bargain .bargainGang .open .iconfont {\r\n\tfont-size: 25rpx;\r\n\tmargin: 5rpx 0 0 10rpx;\r\n}\r\n\r\n.bargain .icon-xiangzuo {\r\n\tfont-size: 40rpx;\r\n\tcolor: #fff;\r\n\tposition: fixed;\r\n\ttop: 56rpx;\r\n\tleft: 30rpx;\r\n\tz-index: 99;\r\n\tfont-size: 36rpx;\r\n}\r\n\r\n.bargain .header {\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-size: 100% 100%;\r\n\twidth: 100%;\r\n\theight: 572rpx;\r\n\tmargin: 0 auto;\r\n\tpadding-top: 340rpx;\r\n\tposition: relative;\r\n}\r\n\r\n.bargain .header .pictxt {\r\n\tmargin: -60rpx auto 0 auto;\r\n\tfont-size: 26rpx;\r\n\tcolor: #fff;\r\n}\r\n\r\n.bargain .header .pictxt .pictrue {\r\n\twidth: 56rpx;\r\n\theight: 56rpx;\r\n\tmargin-right: 30rpx;\r\n}\r\n\r\n.bargain .header .pictxt .pictrue image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tborder-radius: 50%;\r\n\tborder: 2rpx solid #fff;\r\n}\r\n\r\n.bargain .header .pictxt .text text {\r\n\tmargin-left: 20rpx;\r\n}\r\n\r\n.bargain .header .time {\r\n\twidth: 440rpx;\r\n\tfont-size: 22rpx;\r\n\tline-height: 36rpx;\r\n\ttext-align: center;\r\n\tbox-sizing: border-box;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tmargin-left: -220rpx;\r\n\ttop: 298rpx;\r\n}\r\n\r\n.bargain .header .time .red {\r\n\tcolor: var(--view-theme);\r\n}\r\n\r\n.bargain .header .people {\r\n\ttext-align: center;\r\n\tcolor: #fff;\r\n\tfont-size: 20rpx;\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\t/* #ifdef MP || APP-PLUS */\r\n\theight: 44px;\r\n\tline-height: 44px;\r\n\ttop: 40rpx;\r\n\t/* #endif */\r\n\t/* #ifdef H5 */\r\n\ttop: 58rpx;\r\n\t/* #endif */\r\n}\r\n\r\n.bargain .header .time text {\r\n\tcolor: #333;\r\n}\r\n\r\n.bargain .wrapper,\r\n.bargain .bargainGang,\r\n.bargain .goodsDetails {\r\n\twidth: 660rpx;\r\n\tborder: 6rpx solid #fc8b42;\r\n\tbackground-color: #fff;\r\n\tborder-radius: 20rpx;\r\n\tmargin: -190rpx auto 0 auto;\r\n\tbox-sizing: border-box;\r\n\tpadding: 0 24rpx 47rpx 24rpx;\r\n\tposition: relative;\r\n}\r\n\r\n.bargain .wrapper .pictxt {\r\n\tmargin: 26rpx 0 37rpx 0;\r\n}\r\n\r\n.bargain .wrapper .pictxt .pictrue {\r\n\twidth: 180rpx;\r\n\theight: 180rpx;\r\n\tposition: relative;\r\n}\r\n\r\n.bargain .wrapper .pictxt .pictrue image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tborder-radius: 6rpx;\r\n}\r\n\r\n.bargain .wrapper .pictxt .text {\r\n\twidth: 395rpx;\r\n\tfont-size: 28rpx;\r\n\tcolor: #282828;\r\n\theight: 180rpx;\r\n}\r\n\r\n.bargain .wrapper .pictxt .text .money {\r\n\tfont-weight: bold;\r\n\tfont-size: 24rpx;\r\n}\r\n\r\n.bargain .wrapper .pictxt .text .money .num {\r\n\tfont-size: 36rpx;\r\n}\r\n\r\n.bargain .wrapper .pictxt .text .successNum {\r\n\tfont-size: 22rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.bargain .wrapper .cu-progress {\r\n\toverflow: hidden;\r\n\theight: 12rpx;\r\n\tbackground-color: #eee;\r\n\twidth: 100%;\r\n\tborder-radius: 20rpx;\r\n}\r\n\r\n.bargain .wrapper .cu-progress .bg-red {\r\n\twidth: 0;\r\n\theight: 100%;\r\n\ttransition: width 0.6s ease;\r\n\tborder-radius: 20rpx;\r\n\tbackground-image: linear-gradient(to right, var(--view-minorColor) 0%, var(--view-theme) 100%);\r\n}\r\n\r\n.bargain .wrapper .money {\r\n\tfont-size: 22rpx;\r\n\tcolor: #999;\r\n\tmargin-top: 15rpx;\r\n\tcolor: var(--view-priceColor);\r\n}\r\n\r\n.bargain .wrapper .bargainSuccess {\r\n\tfont-size: 26rpx;\r\n\tcolor: #282828;\r\n\ttext-align: center;\r\n}\r\n\r\n.bargain .wrapper .bargainSuccess .iconfont {\r\n\tfont-size: 45rpx;\r\n\tcolor: #54c762;\r\n\tpadding-right: 18rpx;\r\n\tvertical-align: -5rpx;\r\n}\r\n\r\n.bargain .wrapper .bargainBnt {\r\n\tfont-size: 30rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #fff;\r\n\twidth: 600rpx;\r\n\theight: 80rpx;\r\n\tborder-radius: 40rpx;\r\n\t// background-image: linear-gradient(to right, var(--view-minorColor) 0%, var(--view-theme) 100%);\r\n\tbackground-color: var(--view-theme);\r\n\ttext-align: center;\r\n\tline-height: 80rpx;\r\n\tmargin-top: 32rpx;\r\n}\r\n\r\n.bargain .wrapper .bargainBnt.on {\r\n\tborder: 2rpx solid var(--view-theme);\r\n\tcolor: var(--view-theme);\r\n\tbackground-image: linear-gradient(to right, #fff 0%, #fff 100%);\r\n\twidth: 596rpx;\r\n\theight: 76rpx;\r\n}\r\n\r\n.bargain .wrapper .bargainBnt.grey {\r\n\tcolor: #fff;\r\n\tbackground-image: linear-gradient(to right, #bbbbbb 0%, #bbbbbb 100%);\r\n}\r\n\r\n.bargain .wrapper .tip {\r\n\tfont-size: 22rpx;\r\n\tcolor: #999;\r\n\ttext-align: center;\r\n\tmargin-top: 20rpx;\r\n}\r\n\r\n.bargain .wrapper .tip .num {\r\n\tcolor: var(--view-theme);\r\n}\r\n\r\n.bargain .wrapper .lock,\r\n.bargain .bargainGang .lock,\r\n.bargain .goodsDetails .lock {\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-size: 100% 100%;\r\n\twidth: 548rpx;\r\n\theight: 66rpx;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\tbottom: -43rpx;\r\n\tz-index: 5;\r\n}\r\n\r\n.bargain .bargainGang {\r\n\tmargin: 13rpx auto 0 auto;\r\n}\r\n\r\n.bargain .bargainGang .title,\r\n.bargain .goodsDetails .title {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\theight: 80rpx;\r\n\tmargin-top: 30rpx;\r\n\tcolor: var(--view-theme);\r\n}\r\n\r\n.bargain .bargainGang .title .pictrue,\r\n.bargain .goodsDetails .title .pictrue {\r\n\twidth: 46rpx;\r\n\theight: 24rpx;\r\n}\r\n\r\n.bargain .bargainGang .title .pictrue.on,\r\n.bargain .goodsDetails .title .pictrue.on {\r\n\ttransform: rotate(180deg);\r\n}\r\n\r\n.bargain .bargainGang .title .pictrue image,\r\n.bargain .goodsDetails .title .pictrue image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: block;\r\n}\r\n\r\n.bargain .bargainGang .title .titleCon,\r\n.bargain .goodsDetails .title .titleCon {\r\n\tmargin: 0 20rpx;\r\n}\r\n\r\n.bargain .bargainGang .list .item {\r\n\tborder-bottom: 1rpx dashed #ddd;\r\n\theight: 112rpx;\r\n}\r\n\r\n.bargain .bargainGang .list .item .pictxt {\r\n\twidth: 310rpx;\r\n}\r\n\r\n.bargain .bargainGang .list .item .pictxt .pictrue {\r\n\twidth: 70rpx;\r\n\theight: 70rpx;\r\n}\r\n\r\n.bargain .bargainGang .list .item .pictxt .pictrue image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tborder-radius: 50%;\r\n\tborder: 2rpx solid var(--view-theme);\r\n}\r\n\r\n.bargain .bargainGang .list .item .pictxt .text {\r\n\twidth: 225rpx;\r\n\tfont-size: 20rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.bargain .bargainGang .list .item .pictxt .text .name {\r\n\tfont-size: 25rpx;\r\n\tcolor: #282828;\r\n\tmargin-bottom: 7rpx;\r\n}\r\n\r\n.bargain .bargainGang .list .item .money {\r\n\tfont-size: 25rpx;\r\n\tcolor: var(--view-theme);\r\n}\r\n\r\n.bargain .bargainGang .list .item .money .iconfont {\r\n\tfont-size: 35rpx;\r\n\tvertical-align: middle;\r\n\tmargin-right: 10rpx;\r\n}\r\n\r\n.bargain .bargainGang .load {\r\n\tfont-size: 24rpx;\r\n\ttext-align: center;\r\n\tline-height: 80rpx;\r\n\theight: 80rpx;\r\n\tcolor: var(--view-theme);\r\n}\r\n\r\n.bargain .goodsDetails {\r\n\tmargin: 13rpx auto 0 auto;\r\n}\r\n\r\n.bargain .goodsDetails ~ .goodsDetails {\r\n\tmargin-bottom: 50rpx;\r\n}\r\n\r\n.bargain .goodsDetails .conter {\r\n\tmargin-top: 20rpx;\r\n\toverflow: hidden;\r\n}\r\n\r\n.bargain .goodsDetails .conter image {\r\n\twidth: 100% !important;\r\n\tdisplay: block !important;\r\n}\r\n\r\n.bargain .bargainTip {\r\n\tposition: fixed;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\twidth: 560rpx;\r\n\tmargin-left: -280rpx;\r\n\tz-index: 111;\r\n\tborder-radius: 20rpx;\r\n\tbackground-color: #fff;\r\n\ttransition: all 0.3s ease-in-out 0s;\r\n\topacity: 0;\r\n\ttransform: scale(0);\r\n\tpadding-bottom: 60rpx;\r\n\tmargin-top: -330rpx;\r\n}\r\n\r\n.bargain .bargainTip.on {\r\n\topacity: 1;\r\n\ttransform: scale(1);\r\n}\r\n\r\n.bargain .bargainTip .pictrue {\r\n\twidth: 100%;\r\n\theight: 321rpx;\r\n}\r\n\r\n.bargain .bargainTip .pictrue image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tborder-radius: 20rpx 20rpx 0 0;\r\n}\r\n\r\n.bargain .bargainTip .cutOff {\r\n\tfont-size: 30rpx;\r\n\tcolor: #666;\r\n\tpadding: 0 29rpx;\r\n\ttext-align: center;\r\n\tmargin-top: 50rpx;\r\n}\r\n\r\n.bargain .bargainTip .cutOff.on {\r\n\tmargin-top: 26rpx;\r\n}\r\n\r\n.bargain .bargainTip .help {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\ttext-align: center;\r\n\tmargin-top: 40rpx;\r\n}\r\n\r\n.bargain .bargainTip .tipBnt {\r\n\tfont-size: 32rpx;\r\n\tcolor: #fff;\r\n\twidth: 360rpx;\r\n\theight: 82rpx;\r\n\tborder-radius: 41rpx;\r\n\t// background-image: linear-gradient(to right, var(--view-minorColor) 0%, var(--view-theme) 100%);\r\n\tbackground-color: var(--view-theme);\r\n\ttext-align: center;\r\n\tline-height: 82rpx;\r\n\tmargin: 50rpx auto 0 auto;\r\n}\r\n\r\n.bargain_view {\r\n\twidth: 180rpx;\r\n\theight: 48rpx;\r\n\tbackground: rgba(0, 0, 0, 0.5);\r\n\topacity: 1;\r\n\tborder-radius: 0 0 6rpx 6rpx;\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tfont-size: 22rpx;\r\n\tcolor: #fff;\r\n\ttext-align: center;\r\n\tline-height: 48rpx;\r\n}\r\n\r\n.iconfonts {\r\n\tfont-size: 22rpx !important;\r\n}\r\n\r\n.wxParse-div {\r\n\twidth: auto !important;\r\n\theight: auto !important;\r\n}\r\n\r\n.bargain .mask {\r\n\tz-index: 100;\r\n}\r\n\r\n.share-box {\r\n\tz-index: 1000;\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\r\n\timage {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n}\r\n\r\n.followCode {\r\n\t.pictrue {\r\n\t\twidth: 500rpx;\r\n\t\theight: 530rpx;\r\n\t\tborder-radius: 12px;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\tmargin-left: -250rpx;\r\n\t\tmargin-top: -360rpx;\r\n\t\tposition: fixed;\r\n\t\tz-index: 10000;\r\n\r\n\t\t.code-bg {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tbackground-image: url('~@/static/images/code-bg.png');\r\n\t\t\tbackground-size: 100% 100%;\r\n\t\t}\r\n\r\n\t\t.imgs {\r\n\t\t\twidth: 310rpx;\r\n\t\t\theight: 310rpx;\r\n\t\t\tmargin-top: 92rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.mask {\r\n\t\tz-index: 9999;\r\n\t}\r\n}\r\n.main-warper {\r\n\tposition: relative;\r\n\t/deep/ .posterCon {\r\n\t\tposition: static;\r\n\t}\r\n}\r\n.posters {\r\n\tposition: fixed;\r\n\tbottom: -5000px;\r\n\tleft: -5000px;\r\n}\r\n\r\n.poster-pop {\r\n\twidth: 450rpx;\r\n\theight: 714rpx;\r\n\tposition: fixed;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\tz-index: 399;\r\n\ttop: 50%;\r\n\tmargin-top: -377rpx;\r\n\t.poster-img{\r\n\t\tborder-radius: 6px;\r\n\t}\r\n}\r\n\r\n.poster-pop image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: block;\r\n}\r\n\r\n.poster-pop .close {\r\n\twidth: 46rpx;\r\n\theight: 75rpx;\r\n\tposition: fixed;\r\n\tright: 0;\r\n\ttop: -73rpx;\r\n\tdisplay: block;\r\n}\r\n\r\n.poster-pop .save-poster {\r\n\tbackground-color: #df2d0a;\r\n\tfont-size: ：22rpx;\r\n\tcolor: #fff;\r\n\ttext-align: center;\r\n\theight: 76rpx;\r\n\tline-height: 76rpx;\r\n\twidth: 100%;\r\n\tmargin-top: 20rpx;\r\n}\r\n\r\n.poster-pop .keep {\r\n\tcolor: #fff;\r\n\ttext-align: center;\r\n\tfont-size: 25rpx;\r\n\tmargin-top: 10rpx;\r\n}\r\n.canvas {\r\n\twidth: 700rpx;\r\n\theight: 1100rpx;\r\n}\r\n</style>\r\n","import { render, staticRenderFns, recyclableRender, components } from \"./zb-code.vue?vue&type=template&id=5c1b8eea&xlang=wxml&minapp=mpvue&\"\nvar renderjs\nimport script from \"./zb-code.vue?vue&type=script&lang=js&\"\nexport * from \"./zb-code.vue?vue&type=script&lang=js&\"\nimport style0 from \"./zb-code.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/zb-code/zb-code.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zb-code.vue?vue&type=template&id=5c1b8eea&xlang=wxml&minapp=mpvue&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zb-code.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zb-code.vue?vue&type=script&lang=js&\"","<template xlang=\"wxml\" minapp=\"mpvue\">\n\t<view class=\"zb-code\">\n\t\t<!-- #ifndef MP-ALIPAY -->\n\t\t<canvas class=\"zb-code-canvas\" :canvas-id=\"cid\" :style=\"{width:cpSize+'px',height:cpSize+'px'}\" />\n\t\t<!-- #endif -->\n\t\t<!-- #ifdef MP-ALIPAY -->\n\t\t<canvas :id=\"cid\" :width=\"cpSize\" :height=\"cpSize\" class=\"zb-code-canvas\" />\n\t\t<!-- #endif -->\n\t\t<image v-show=\"show\" :src=\"result\" :style=\"{width:cpSize+'px',height:cpSize+'px'}\" />\n\t</view>\n</template>\n\n<script>\nimport QRCode from \"./qrcode.js\"\nlet qrcode\nexport default {\n\tname: \"zb-code\",\n\tprops: {\n\t\tcid: {\n\t\t\ttype: String,\n\t\t\tdefault: 'zb-code-canvas'\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 200\n\t\t},\n\t\tunit: {\n\t\t\ttype: String,\n\t\t\tdefault: 'upx'\n\t\t},\n\t\tshow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tval: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tbackground: {\n\t\t\ttype: String,\n\t\t\tdefault: '#ffffff'\n\t\t},\n\t\tforeground: {\n\t\t\ttype: String,\n\t\t\tdefault: '#000000'\n\t\t},\n\t\tpdground: {\n\t\t\ttype: String,\n\t\t\tdefault: '#000000'\n\t\t},\n\t\ticon: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\ticonSize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 40\n\t\t},\n\t\tlv: {\n\t\t\ttype: Number,\n\t\t\tdefault: 3\n\t\t},\n\t\tonval: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tloadMake: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tusingComponents: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tshowLoading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tloadingText: {\n\t\t\ttype: String,\n\t\t\tdefault: '二维码生成中'\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tresult: '',\n\t\t}\n\t},\n\tmethods: {\n\t\t_makeCode() {\n\t\t\tlet that = this\n\t\t\tif (!this._empty(this.val)) {\n\t\t\t\tqrcode = new QRCode({\n\t\t\t\t\tcontext: that, // 上下文环境\n\t\t\t\t\tcanvasId:that.cid, // canvas-id\n\t\t\t\t\tusingComponents: that.usingComponents, // 是否是自定义组件\n\t\t\t\t\tshowLoading: that.showLoading, // 是否显示loading\n\t\t\t\t\tloadingText: that.loadingText, // loading文字\n\t\t\t\t\ttext: that.val, // 生成内容\n\t\t\t\t\tsize: that.cpSize, // 二维码大小\n\t\t\t\t\tbackground: that.background, // 背景色\n\t\t\t\t\tforeground: that.foreground, // 前景色\n\t\t\t\t\tpdground: that.pdground, // 定位角点颜色\n\t\t\t\t\tcorrectLevel: that.lv, // 容错级别\n\t\t\t\t\timage: that.icon, // 二维码图标\n\t\t\t\t\timageSize: that.iconSize,// 二维码图标大小\n\t\t\t\t\tcbResult: function (res) { // 生成二维码的回调\n\t\t\t\t\t\tthat._result(res)\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '二维码内容不能为空',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: 2000\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_clearCode() {\n\t\t\tthis._result('')\n\t\t\tqrcode.clear()\n\t\t},\n\t\t_saveCode() {\n\t\t\tlet that = this;\n\t\t\tif (this.result != \"\") {\n\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\tfilePath: that.result,\n\t\t\t\t\tsuccess: function () {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '二维码保存成功',\n\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_result(res) {\n\t\t\tthis.result = res;\n\t\t\tthis.$emit('result', res)\n\t\t},\n\t\t_empty(v) {\n\t\t\tlet tp = typeof v,\n\t\t\t\trt = false;\n\t\t\tif (tp == \"number\" && String(v) == \"\") {\n\t\t\t\trt = true\n\t\t\t} else if (tp == \"undefined\") {\n\t\t\t\trt = true\n\t\t\t} else if (tp == \"object\") {\n\t\t\t\tif (JSON.stringify(v) == \"{}\" || JSON.stringify(v) == \"[]\" || v == null) rt = true\n\t\t\t} else if (tp == \"string\") {\n\t\t\t\tif (v == \"\" || v == \"undefined\" || v == \"null\" || v == \"{}\" || v == \"[]\") rt = true\n\t\t\t} else if (tp == \"function\") {\n\t\t\t\trt = false\n\t\t\t}\n\t\t\treturn rt\n\t\t}\n\t},\n\twatch: {\n\t\tsize: function (n, o) {\n\t\t\tif (n != o && !this._empty(n)) {\n\t\t\t\tthis.cSize = n\n\t\t\t\tif (!this._empty(this.val)) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis._makeCode()\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tval: function (n, o) {\n\t\t\tif (this.onval) {\n\t\t\t\tif (n != o && !this._empty(n)) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis._makeCode()\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tcpSize() {\n\t\t\tif(this.unit == \"upx\"){\n\t\t\t\treturn uni.upx2px(this.size)\n\t\t\t}else{\n\t\t\t\treturn this.size\n\t\t\t}\n\t\t}\n\t},\n\tmounted () {\n\t\tif (this.loadMake) {\n\t\t\tif (!this._empty(this.val)) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis._makeCode()\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\t},\n}\n</script>\n<style>\n.zb-code {\n  position: relative;\n}\n.zb-code-canvas {\n  position: fixed;\n  top: -99999upx;\n  left: -99999upx;\n  z-index: -99999;\n}\n</style>\n","import mod from \"-!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zb-code.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zb-code.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1749452845017\n      var cssReload = require(\"D:/download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=315573ee&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/activity/poster-poster/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=315573ee&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$t(\"提示：点击图片即可保存至手机相册\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"posterCon\" :style=\"colorStyle\">\n\t\t<view class=\"poster-poster\">\n\t\t\t<view class=\"tip\">\n\t\t\t\t<text class=\"iconfont icon-shuoming\"></text>\n\t\t\t\t{{ $t(`提示：点击图片即可保存至手机相册`) }}\n\t\t\t</view>\n\t\t\t<view class=\"pictrue\">\n\t\t\t\t<!-- <image :src='image' mode=\"widthFix\"></image> -->\n\t\t\t\t<image class=\"canvas\" :src=\"posterImage\" v-if=\"posterImage\" @click=\"savePosterPathMp(posterImage)\"></image>\n\t\t\t\t<canvas class=\"canvas\" canvas-id=\"myCanvas\" v-else></canvas>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- #ifdef H5 || APP-PLUS -->\n\t\t<zb-code\n\t\t\tref=\"qrcodes\"\n\t\t\t:show=\"codeShow\"\n\t\t\t:cid=\"cid\"\n\t\t\t:val=\"val\"\n\t\t\t:size=\"size\"\n\t\t\t:unit=\"unit\"\n\t\t\t:background=\"background\"\n\t\t\t:foreground=\"foreground\"\n\t\t\t:pdground=\"pdground\"\n\t\t\t:icon=\"icon\"\n\t\t\t:iconSize=\"iconsize\"\n\t\t\t:onval=\"onval\"\n\t\t\t:loadMake=\"loadMake\"\n\t\t\t@result=\"qrR\"\n\t\t/>\n\t\t<!-- #endif -->\n\t</view>\n</template>\n\n<script>\nimport zbCode from '@/components/zb-code/zb-code.vue';\nimport { getBargainPoster, getCombinationPoster, getBargainPosterData, getCombinationPosterData } from '@/api/activity.js';\nimport { getUserInfo, imgToBase, routineCode } from '@/api/user.js';\n// #ifdef APP-PLUS\nimport { TOKENNAME, HTTP_REQUEST_URL } from '@/config/app.js';\n// #endif\nimport colors from '@/mixins/color.js';\nexport default {\n\tcomponents: {\n\t\tzbCode\n\t},\n\tmixins: [colors],\n\t// 组件使用 props 传参\n\tprops: {\n\t\tcomType: {\n\t\t\ttype: String,\n\t\t\tdefault: '0'\n\t\t},\n\t\tcomId: {\n\t\t\ttype: String,\n\t\t\tdefault: '0'\n\t\t},\n\t\tcomBargain: {\n\t\t\ttype: String,\n\t\t\tdefault: '0'\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcanvasStatus: true,\n\t\t\tposterImage: '',\n\t\t\tparameter: {\n\t\t\t\tnavbar: '1',\n\t\t\t\treturn: '1',\n\t\t\t\ttitle: this.$t(`拼团海报`),\n\t\t\t\tcolor: true,\n\t\t\t\tclass: '0'\n\t\t\t},\n\t\t\ttype: 0,\n\t\t\tid: 0,\n\t\t\tbargain: 0,\n\t\t\timage: '',\n\t\t\tfrom: '',\n\t\t\tuid: '',\n\t\t\t//二维码参数\n\t\t\tcodeShow: false,\n\t\t\tcid: '1',\n\t\t\tifShow: true,\n\t\t\tval: '', // 要生成的二维码值\n\t\t\tsize: 200, // 二维码大小\n\t\t\tunit: 'upx', // 单位\n\t\t\tbackground: '#FFF', // 背景色\n\t\t\tforeground: '#000', // 前景色\n\t\t\tpdground: '#000', // 角标色\n\t\t\ticon: '', // 二维码图标\n\t\t\ticonsize: 40, // 二维码图标大小\n\t\t\tlv: 3, // 二维码容错级别 ， 一般不用设置，默认就行\n\t\t\tonval: true, // val值变化时自动重新生成二维码\n\t\t\tloadMake: true, // 组件加载完成后自动生成二维码\n\t\t\tsrc: '', // 二维码生成后的图片地址或base64\n\t\t\tcodeSrc: '',\n\t\t\twd: 0,\n\t\t\thg: 0,\n\t\t\tposterBag: '../static/posterBag.png',\n\t\t\tmpUrl: ''\n\t\t};\n\t},\n\tonLoad(options) {\n\t\tif (this.comType != 1) {\n\t\t\t// #ifdef MP\n\t\t\tthis.from = 'routine';\n\t\t\t// #endif\n\t\t\t// #ifdef H5 || APP-PLUS\n\t\t\tthis.from = 'wechat';\n\t\t\t// #endif\n\n\t\t\tvar that = this;\n\t\t\tif (options.hasOwnProperty('type') && options.hasOwnProperty('id')) {\n\t\t\t\tthis.type = options.type;\n\t\t\t\tthis.id = options.id;\n\t\t\t\tif (options.type == 1) {\n\t\t\t\t\tthis.bargain = options.bargain;\n\t\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\t\ttitle: that.$t(`砍价海报`)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\t\ttitle: that.$t(`拼团海报`)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn app.Tips(\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: that.$t(`参数错误`),\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttab: 3,\n\t\t\t\t\t\turl: 1\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.comType == 1) {\n\t\t\t// #ifdef MP\n\t\t\tthis.from = 'routine';\n\t\t\t// #endif\n\t\t\t// #ifdef H5 || APP-PLUS\n\t\t\tthis.from = 'wechat';\n\t\t\t// #endif\n\n\t\t\tvar that = this;\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t\ttitle: that.$t(`砍价海报`)\n\t\t\t});\n\t\t\tthis.type = this.comType;\n\t\t\tthis.id = this.comId;\n\t\t\tthis.bargain = this.comBargain;\n\n\t\t\t// #ifdef H5\n\t\t\tthis.val =\n\t\t\t\twindow.location.origin + '/pages/activity/goods_bargain_details/index?id=' + this.id + '&bargain=' + this.$store.state.app.uid + '&spread=' + this.$store.state.app.uid;\n\t\t\t// #endif\n\t\t\t// #ifdef APP-PLUS\n\t\t\tthis.val = HTTP_REQUEST_URL + '/pages/activity/goods_bargain_details/index?id=' + this.id + '&bargain=' + this.$store.state.app.uid + '&spread=' + this.$store.state.app.uid;\n\t\t\t// #endif\n\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tuni\n\t\t\t\t\t.createSelectorQuery()\n\t\t\t\t\t.in(this)\n\t\t\t\t\t.select('.pictrue')\n\t\t\t\t\t.boundingClientRect((data) => {\n\t\t\t\t\t\tthis.wd = data.width;\n\t\t\t\t\t\tthis.hg = data.height;\n\t\t\t\t\t})\n\t\t\t\t\t.exec();\n\t\t\t});\n\t\t\tthis.routineCode();\n\t\t\tsetTimeout((e) => {\n\t\t\t\tthis.getPosterInfo();\n\t\t\t}, 200);\n\t\t}\n\t},\n\tonReady() {\n\t\tif (this.comType != 1) {\n\t\t\t// #ifdef H5\n\t\t\tif (this.type == 1) {\n\t\t\t\tthis.val =\n\t\t\t\t\twindow.location.origin + '/pages/activity/goods_bargain_details/index?id=' + this.id + '&bargain=' + this.$store.state.app.uid + '&spread=' + this.$store.state.app.uid;\n\t\t\t} else if (this.type == 2) {\n\t\t\t\tthis.val = window.location.origin + '/pages/activity/goods_combination_status/index?id=' + this.id + '&spread=' + this.$store.state.app.uid;\n\t\t\t}\n\t\t\t// #endif\n\t\t\t// #ifdef APP-PLUS\n\t\t\tif (this.type == 1) {\n\t\t\t\tthis.val =\n\t\t\t\t\tHTTP_REQUEST_URL + '/pages/activity/goods_bargain_details/index?id=' + this.id + '&bargain=' + this.$store.state.app.uid + '&spread=' + this.$store.state.app.uid;\n\t\t\t} else if (this.type == 2) {\n\t\t\t\tthis.val = HTTP_REQUEST_URL + '/pages/activity/goods_combination_status/index?id=' + this.id + '&spread=' + this.$store.state.app.uid;\n\t\t\t}\n\t\t\t// #endif\n\t\t\tsetTimeout((e) => {}, 200);\n\t\t\tthis.$nextTick(function () {\n\t\t\t\tlet selector = uni.createSelectorQuery().select('.pictrue');\n\t\t\t\tselector\n\t\t\t\t\t.fields(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsize: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t(data) => {\n\t\t\t\t\t\t\tthis.wd = data.width;\n\t\t\t\t\t\t\tthis.hg = data.height;\n\t\t\t\t\t\t\tthis.getPosterInfo();\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t\t.exec();\n\t\t\t});\n\t\t\tthis.routineCode();\n\t\t}\n\t},\n\tmethods: {\n\t\tasync getPosterInfo() {\n\t\t\tvar that = this,\n\t\t\t\turl = '';\n\t\t\tlet data = {\n\t\t\t\tid: that.id,\n\t\t\t\tfrom: that.from\n\t\t\t};\n\t\t\tlet userData = await getUserInfo();\n\t\t\tthis.uid = userData.data.uid;\n\t\t\tlet goods_img, mp_code, resData, arr, mpUrl;\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: that.$t(`海报生成中`),\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\tif (that.type == 1) {\n\t\t\t\tawait getBargainPosterData(that.id)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tresData = res.data;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\ttitle: that.$t(`海报图片获取失败`)\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tawait getCombinationPosterData(that.id)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tresData = res.data;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\ttitle: that.$t(`海报图片获取失败`)\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t// #ifdef H5 || APP-PLUS\n\t\t\tlet imgData = await this.imgToBase(resData.image, resData.url);\n\t\t\tarr = [this.posterBag, imgData.image, imgData.code || this.codeSrc];\n\t\t\t// #endif\n\t\t\t// #ifdef MP\n\t\t\tresData.image = that.setDomain(resData.image);\n\t\t\tmpUrl = resData.url ? await this.downloadFilestoreImage(resData.url) : await this.downloadFilestoreImage(this.mpUrl);\n\t\t\tarr = [this.posterBag, await this.downloadFilestoreImage(resData.image), mpUrl];\n\t\t\t// #endif\n\t\t\tthis.$nextTick((e) => {\n\t\t\t\tthat.$util.bargainPosterCanvas(arr, resData.title, resData.label, resData.msg, resData.price, this.wd, this.hg, (tempFilePath) => {\n\t\t\t\t\tthis.posterImage = tempFilePath;\n\t\t\t\t\tthis.$emit('getPosterImgae', tempFilePath);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tasync routineCode() {\n\t\t\tlet res = await routineCode();\n\t\t\tthis.mpUrl = res.data.url;\n\t\t},\n\t\t//图片转符合安全域名路径\n\t\tdownloadFilestoreImage(url) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet that = this;\n\t\t\t\tuni.downloadFile({\n\t\t\t\t\turl: url,\n\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\tresolve(res.tempFilePath);\n\t\t\t\t\t},\n\t\t\t\t\tfail: function () {\n\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\ttitle: ''\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t//替换安全域名\n\t\tsetDomain: function (url) {\n\t\t\turl = url ? url.toString() : '';\n\t\t\t//本地调试打开,生产请注销\n\t\t\tif (url.indexOf('https://') > -1) return url;\n\t\t\telse return url.replace('http://', 'https://');\n\t\t},\n\t\tasync imgToBase(image, url) {\n\t\t\tlet res = await imgToBase({\n\t\t\t\timage: image,\n\t\t\t\tcode: url\n\t\t\t});\n\n\t\t\treturn res.data;\n\t\t},\n\t\tdownloadImg() {},\n\t\tsavePosterPathMp(url) {\n\t\t\tlet that = this;\n\t\t\t// #ifdef APP-PLUS\n\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\tfilePath: url,\n\t\t\t\tsuccess: function (res) {\n\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\ttitle: that.$t(`保存成功`),\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tfail: function (res) {\n\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\ttitle: that.$t(`保存失败`)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t// #endif\n\t\t\t// #ifdef MP\n\t\t\tuni.getSetting({\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tif (!res.authSetting['scope.writePhotosAlbum']) {\n\t\t\t\t\t\tuni.authorize({\n\t\t\t\t\t\t\tscope: 'scope.writePhotosAlbum',\n\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\t\t\tfilePath: url,\n\t\t\t\t\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存成功`),\n\t\t\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfail: function (res) {\n\t\t\t\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存失败`)\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: function (res) {\n\t\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存失败`)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\tfilePath: url,\n\t\t\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存成功`),\n\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: function (res) {\n\t\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存失败`)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t// #endif\n\t\t\t// #ifdef H5\n\t\t\t// 创建隐藏的可下载链接\n\t\t\tvar eleLink = document.createElement('a');\n\t\t\teleLink.download = that.$t(`海报`);\n\t\t\teleLink.href = url;\n\t\t\t// 触发点击\n\t\t\tdocument.body.appendChild(eleLink);\n\t\t\teleLink.click();\n\t\t\t// #endif\n\t\t},\n\t\tqrR(res) {\n\t\t\tthis.codeSrc = res;\n\t\t},\n\t\t// #ifdef MP\n\t\tsavePosterPath: function () {\n\t\t\tlet that = this;\n\t\t\tuni.getSetting({\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tif (!res.authSetting['scope.writePhotosAlbum']) {\n\t\t\t\t\t\tuni.authorize({\n\t\t\t\t\t\t\tscope: 'scope.writePhotosAlbum',\n\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\t\t\tfilePath: that.posterImage,\n\t\t\t\t\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\t\t\t\t\tthat.posterImageClose();\n\t\t\t\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存成功`),\n\t\t\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfail: function (res) {\n\t\t\t\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存失败`)\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\tfilePath: that.posterImage,\n\t\t\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\t\t\tthat.posterImageClose();\n\t\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存成功`),\n\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: function (res) {\n\t\t\t\t\t\t\t\tthat.$util.Tips({\n\t\t\t\t\t\t\t\t\ttitle: that.$t(`保存失败`)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// #endif\n\t}\n};\n</script>\n\n<style>\n.posterCon {\n\tposition: fixed;\n\ttop: 0;\n\twidth: 100%;\n\tleft: 0;\n\theight: 100%;\n\tbackground-color: var(--view-theme);\n\tbottom: 0;\n\toverflow-y: auto;\n}\n\n.poster-poster .tip {\n\theight: 80rpx;\n\tfont-size: 26rpx;\n\tcolor: #e8c787;\n\ttext-align: center;\n\tline-height: 80rpx;\n\tuser-select: none;\n}\n\n.poster-poster .tip .iconfont {\n\tfont-size: 36rpx;\n\tvertical-align: -4rpx;\n\tmargin-right: 18rpx;\n}\n\n.canvas {\n\twidth: 100%;\n\theight: 1100rpx;\n}\n\n.poster-poster .pictrue {\n\twidth: 700rpx;\n\t/* height: 100%; */\n\tmargin: 0 auto 50rpx auto;\n\tdisplay: flex;\n\tjustify-content: center;\n}\n\n.poster-poster .pictrue image {\n\twidth: 100%;\n\t/* height: 100%; */\n}\n</style>\n","import mod from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1749452844999\n      var cssReload = require(\"D:/download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1749452847514\n      var cssReload = require(\"D:/download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}