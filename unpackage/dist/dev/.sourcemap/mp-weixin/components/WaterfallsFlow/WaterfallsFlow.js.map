{"version":3,"sources":["webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/components/WaterfallsFlow/WaterfallsFlow.vue?709b","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/components/WaterfallsFlow/WaterfallsFlow.vue?f978","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/components/WaterfallsFlow/WaterfallsFlow.vue?7fb2","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/components/WaterfallsFlow/WaterfallsFlow.vue?51e1","uni-app:///components/WaterfallsFlow/WaterfallsFlow.vue","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/components/WaterfallsFlow/WaterfallsFlow.vue?c028","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/components/WaterfallsFlow/WaterfallsFlow.vue?271a"],"names":["components","WaterfallsFlowItem","props","wfList","type","require","updateNum","default","isStore","recommend","goDetail","data","allList","leftList","rightList","mark","boxHeight","watch","handler","immediate","deep","mounted","methods","waterFall","getViewHeight","setTimeout","uni","createSelectorQuery","in","select","boundingClientRect","res","exec","itemTap","goShop"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuI;AACvI;AACkE;AACL;AACsC;;;AAGnG;AACwN;AACxN,gBAAgB,gNAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,qGAAM;AACR,EAAE,8GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAo3B,CAAgB,uyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;eCuBx4B;EACAA;IACAC;EACA;EACAC;IACA;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAG;IACA;IACAH;MACAA;MACAG;IACA;IACAC;MACAJ;MACAG;IACA;IACAE;MACAL;MACAG;IACA;IACAG;MACAN;MACAG;IACA;EACA;EACAI;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACA;IACAd;MACAe;QAAA;QACA;;QAEA;UACA;UACA;UACA;UACA;UACA;QACA;;QAEA;;QAEA;UACA;UACA;UACA;UACA;UACA;YACA;cACA;gBACA;cACA;gBACA;cACA;YACA;UACA;UACA;YACA;UACA;YACA;UACA;YACA;UACA;UACA;YACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAC;IAEA;IACAN;MACA;MACA;QACA;MACA;IACA;EACA;EACAO;IACA;IACAC;MACA;MACA;QACA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;QACA;MACA;QACA;QACA;UACA;QACA;UACA;UACA;YACA;UACA;YACA;UACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;UACAC,IACAC,sBACAC,WACAC,iBACAC;YACAC;YACAL,IACAC,sBACAC,WACAC,gBACAC;cACAC;cACA;YACA,GACAC;UACA,GACAA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IAEAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACvLA;AAAA;AAAA;AAAA;AAA2oD,CAAgB,07CAAG,EAAC,C;;;;;;;;;;;ACA/pD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/WaterfallsFlow/WaterfallsFlow.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./WaterfallsFlow.vue?vue&type=template&id=26d87764&scoped=true&\"\nvar renderjs\nimport script from \"./WaterfallsFlow.vue?vue&type=script&lang=js&\"\nexport * from \"./WaterfallsFlow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WaterfallsFlow.vue?vue&type=style&index=0&id=26d87764&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26d87764\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/WaterfallsFlow/WaterfallsFlow.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./WaterfallsFlow.vue?vue&type=template&id=26d87764&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.leftList.length\n  var g1 = _vm.rightList.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./WaterfallsFlow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./WaterfallsFlow.vue?vue&type=script&lang=js&\"","<template>\n\t<view :class=\"'wf-page wf-page' + type\">\n\t\t<!--    left    -->\n\t\t<view>\n\t\t\t<view id=\"left\" v-if=\"leftList.length\">\n\t\t\t\t<view v-for=\"(item, index) in leftList\" :key=\"index\" class=\"wf-item\" @tap=\"itemTap(item)\">\n\t\t\t\t\t<WaterfallsFlowItem :item=\"item\" :isStore=\"isStore\" :type=\"type\" :recommend=\"recommend\" :goDetail=\"goDetail\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<!--    right    -->\n\t\t<view>\n\t\t\t<view id=\"right\" v-if=\"rightList.length\">\n\t\t\t\t<view v-for=\"(item, index) in rightList\" :key=\"index\" class=\"wf-item\" @tap=\"itemTap(item)\">\n\t\t\t\t\t<WaterfallsFlowItem :item=\"item\" :isStore=\"isStore\" :type=\"type\" :recommend=\"recommend\" :goDetail=\"goDetail\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport WaterfallsFlowItem from './WaterfallsFlowItem.vue';\nexport default {\n\tcomponents: {\n\t\tWaterfallsFlowItem\n\t},\n\tprops: {\n\t\t// 瀑布流列表\n\t\twfList: {\n\t\t\ttype: Array,\n\t\t\trequire: true\n\t\t},\n\t\tupdateNum: {\n\t\t\ttype: Number,\n\t\t\tdefault: 10\n\t\t},\n\t\ttype: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0\n\t\t},\n\t\tisStore: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: '1'\n\t\t},\n\t\trecommend: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tgoDetail: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tallList: [], // 全部列表\n\t\t\tleftList: [], // 左边列表\n\t\t\trightList: [], // 右边列表\n\t\t\tmark: 0, // 列表标记\n\t\t\tboxHeight: [] // 下标0和1分别为左列和右列高度\n\t\t};\n\t},\n\twatch: {\n\t\t// 监听列表数据变化\n\t\twfList: {\n\t\t\thandler(nVal, oVal) {\n\t\t\t\t// 如果数据为空或新的列表数据少于旧的列表数据（通常为下拉刷新或切换排序或使用筛选器），初始化变量\n\n\t\t\t\tif (!this.wfList.length || (this.wfList.length === this.updateNum && this.wfList.length <= this.allList.length)) {\n\t\t\t\t\tthis.allList = [];\n\t\t\t\t\tthis.leftList = [];\n\t\t\t\t\tthis.rightList = [];\n\t\t\t\t\tthis.boxHeight = [];\n\t\t\t\t\tthis.mark = 0;\n\t\t\t\t}\n\n\t\t\t\t// 如果列表有值，调用waterfall方法\n\n\t\t\t\tif (this.wfList.length) {\n\t\t\t\t\tthis.allList = this.wfList;\n\t\t\t\t\tthis.leftList = [];\n\t\t\t\t\tthis.rightList = [];\n\t\t\t\t\tthis.boxHeight = [];\n\t\t\t\t\tthis.allList.forEach((v, i) => {\n\t\t\t\t\t\tif (this.allList.length < 3 || (this.allList.length <= 7 && this.allList.length - i > 1) || (this.allList.length > 7 && this.allList.length - i > 2)) {\n\t\t\t\t\t\t\tif (i % 2) {\n\t\t\t\t\t\t\t\tthis.rightList.push(v);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.leftList.push(v);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (this.allList.length < 3) {\n\t\t\t\t\t\tthis.mark = this.allList.length + 1;\n\t\t\t\t\t} else if (this.allList.length <= 7) {\n\t\t\t\t\t\tthis.mark = this.allList.length - 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.mark = this.allList.length - 2;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.mark < this.allList.length) {\n\t\t\t\t\t\tthis.waterFall();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\timmediate: true,\n\t\t\tdeep: true\n\t\t},\n\t\tmounted() {},\n\n\t\t// 监听标记，当标记发生变化，则执行下一个item排序\n\t\tmark() {\n\t\t\tconst len = this.allList.length;\n\t\t\tif (this.mark < len && this.mark !== 0 && this.boxHeight.length) {\n\t\t\t\tthis.waterFall();\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t// 瀑布流排序\n\t\twaterFall() {\n\t\t\tconst i = this.mark;\n\t\t\tif (i == 0) {\n\t\t\t\t// 初始化，从左边开始插入\n\t\t\t\tthis.leftList.push(this.allList[i]);\n\t\t\t\t// 更新左边列表高度\n\t\t\t\tthis.getViewHeight(0);\n\t\t\t} else if (i == 1) {\n\t\t\t\t// 第二个item插入，默认为右边插入\n\t\t\t\tthis.rightList.push(this.allList[i]);\n\t\t\t\t// 更新右边列表高度\n\t\t\t\tthis.getViewHeight(1);\n\t\t\t} else {\n\t\t\t\t// 根据左右列表高度判断下一个item应该插入哪边\n\t\t\t\tif (!this.boxHeight.length) {\n\t\t\t\t\tthis.rightList.length < this.leftList.length ? this.rightList.push(this.allList[i]) : this.leftList.push(this.allList[i]);\n\t\t\t\t} else {\n\t\t\t\t\tconst leftOrRight = this.boxHeight[0] > this.boxHeight[1] ? 1 : 0;\n\t\t\t\t\tif (leftOrRight) {\n\t\t\t\t\t\tthis.rightList.push(this.allList[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.leftList.push(this.allList[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// 更新插入列表高度\n\t\t\t\tthis.getViewHeight();\n\t\t\t}\n\t\t},\n\t\t// 获取列表高度\n\t\tgetViewHeight() {\n\t\t\t// 使用nextTick，确保页面更新结束后，再请求高度\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni\n\t\t\t\t\t\t.createSelectorQuery()\n\t\t\t\t\t\t.in(this)\n\t\t\t\t\t\t.select('#right')\n\t\t\t\t\t\t.boundingClientRect((res) => {\n\t\t\t\t\t\t\tres ? (this.boxHeight[1] = res.height) : '';\n\t\t\t\t\t\t\tuni\n\t\t\t\t\t\t\t\t.createSelectorQuery()\n\t\t\t\t\t\t\t\t.in(this)\n\t\t\t\t\t\t\t\t.select('#left')\n\t\t\t\t\t\t\t\t.boundingClientRect((res) => {\n\t\t\t\t\t\t\t\t\tres ? (this.boxHeight[0] = res.height) : '';\n\t\t\t\t\t\t\t\t\tthis.mark = this.mark + 1;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.exec();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.exec();\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t},\n\t\t// item点击\n\t\titemTap(item) {\n\t\t\tthis.$emit('itemTap', item);\n\t\t},\n\t\t// item点击\n\n\t\tgoShop(item) {\n\t\t\tthis.$emit('goShop', item);\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$page-padding: 10px;\n$grid-gap: 10px;\n\n.wf-page {\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr;\n\tgrid-gap: $grid-gap;\n}\n.wf-item {\n\twidth: calc((100vw - 2 * #{$page-padding} - #{$grid-gap}) / 2);\n\tpadding-bottom: $grid-gap;\n}\n.wf-page1 .wf-item {\n\tmargin-top: 20rpx;\n\tbackground-color: #fff;\n\tborder-radius: 20rpx;\n\tpadding-bottom: 0;\n}\n</style>\n","import mod from \"-!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./WaterfallsFlow.vue?vue&type=style&index=0&id=26d87764&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./WaterfallsFlow.vue?vue&type=style&index=0&id=26d87764&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1749452852764\n      var cssReload = require(\"D:/download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}