{"version":3,"sources":["uni-app:///main.js","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/App.vue?091f","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/App.vue?f2d3","uni-app:///App.vue","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/App.vue?1073","webpack:///D:/WeChat/文件备份/WeChat Files/wxid_19c3c5m8aigw12/FileStorage/File/2025-06/uni-app/App.vue?acbc"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","prototype","$util","util","$config","configs","$Cache","Cache","$eventHub","$socket","socket","config","productionTip","component","skeleton","pageLoading","easyLoadimage","BaseMoney","BaseTag","$permission","ActivePermission","$Debounce","Debounce","App","mpType","app","store","i18n","$mount","globalData","spid","code","isLogin","userInfo","MyMenus","isIframe","tabbarShow","windowHeight","locale","mixins","computed","watch","deep","handler","cartNum","uni","index","text","onShow","onLaunch","that","HTTP_REQUEST_URL","console","updateManager","startParamObj","title","content","success","menuButtonInfo","version","methods","remoteRegister","remote_token","location","token","time"],"mappings":";;;;;;;;;;;;;;AAAA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAiBA;AAEA;AAE4B;AAAA;AAvC5B;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB,CAAC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAUAC,YAAG,CAACC,SAAS,CAACC,KAAK,GAAGC,aAAI;AAC1BH,YAAG,CAACC,SAAS,CAACG,OAAO,GAAGC,YAAO;AAC/BL,YAAG,CAACC,SAAS,CAACK,MAAM,GAAGC,cAAK;AAC5BP,YAAG,CAACC,SAAS,CAACO,SAAS,GAAG,IAAIR,YAAG,EAAE;AACnCA,YAAG,CAACC,SAAS,CAACQ,OAAO,GAAG,IAAIC,iBAAM,EAAE;AACpCV,YAAG,CAACW,MAAM,CAACC,aAAa,GAAG,KAAK;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAMhCZ,YAAG,CAACa,SAAS,CAAC,UAAU,EAAEC,QAAQ,CAAC;AACnCd,YAAG,CAACa,SAAS,CAAC,aAAa,EAAEE,WAAW,CAAC;AACzCf,YAAG,CAACa,SAAS,CAAC,eAAe,EAAEG,aAAa,CAAC;AAC7ChB,YAAG,CAACa,SAAS,CAAC,WAAW,EAAEI,SAAS,CAAC;AACrCjB,YAAG,CAACa,SAAS,CAAC,SAAS,EAAEK,OAAO,CAAC;AAEjClB,YAAG,CAACC,SAAS,CAACkB,WAAW,GAAGC,mBAAgB;AAI5CpB,YAAG,CAACC,SAAS,CAACoB,SAAS,GAAGC,kBAAQ;AAmDlCC,YAAG,CAACC,MAAM,GAAG,KAAK;AAGlB,IAAMC,GAAG,GAAG,IAAIzB,YAAG,iCACfuB,YAAG;EACNG,KAAK,EAALA,cAAK;EACLnB,KAAK,EAALA,cAAK;EACLoB,IAAI,EAAJA;AAAI,GACH;AACF,UAAAF,GAAG,EAACG,MAAM,EAAE,C;;;;;;;;;;;;;ACrGZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACa;;;AAG/D;AACkN;AAClN,gBAAgB,gNAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAA20B,CAAgB,4xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACC/1B;AAGA;AAGA;AAOA;AACA;AACA;AAGA;AAIA;AAIA;AAGA;AACA;AACA;AACA;AAEA,eAEA;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAL;IACAM;IACAC;IACAC;IACAC;EACA;EACAC;EACAC;EACAC;IACAT;MACAU;MAAA;MACAC;QACA;UACA;QAAA,CACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;QACAC;UACAC;UACAC;QACA;MACA;QACAF;UACAC;QACA;MACA;IACA;EACA;EACAE;IACA;IACA;MACA;MACA;MACA;MACA;IACA;IACA;MACA;MACA;MACA;MACA;IACA;IACA;MACA;MACA;MACA;IACA;IAEA;MACA;MACA;QACA;QACA;QACA;MACA;QACA;UACA;UACA;YACA;YACA;UACA;UACA;YACA;YACA;UACA;UACA;YACA;YACA;UACA;UACA;YACA;YACA;QAAA;MAEA;MACA;IACA;EAEA;EACAC;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACAJ;cACAK;cACA;gBACAL;cACA;cAWA;gBACAA;gBACAA;gBACA;kBACA;kBACA;kBACA;kBACA;kBACA;gBACA;gBAEA;gBACA;gBACA;gBACAA;gBACAA;gBACAA;cACA;cACA;gBACA;gBACA;kBACA;oBACA;oBACAtC;oBACA;oBACAsC;kBACA;gBACA;gBACAA;cACA;cAAA,MAkBAM;gBAAA;gBAAA;cAAA;cACAC,cACA,+HACA;cAAA,iCACA;YAAA;cAGAC;cACAC;cACA;gBACAD;gBACAA;kBACA;oBACAA;sBACA;wBACAE;sBACA;oBACA;oBACAF;sBACAxD;wBACA0D;wBACAC;wBACAC;0BACA;4BACAJ;0BACA;wBACA;sBACA;oBACA;oBACAA;sBACAxD;wBACA0D;wBACAC;sBACA;oBACA;kBACA;gBACA;cACA;;cAGA;cACA;cACA;cACA;cACAX;gBACAY;kBACAP;gBACA;cACA;cAEAQ;cACAR;cACAS;cACA;gBACAT;cACA;gBACAA;cACA;;cAIA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;;cA2DA;gBACAL;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;EAMAe;IACAC;MAAA;MACA;QACAC;MACA;QACA;QACA;UACAC;QACA;UACA;YACAC;YACAC;UACA;UACA;UACAF;QACA;MACA;IACA,EACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AClXA;AAAA;AAAA;AAAA;AAA4rC,CAAgB,ulCAAG,EAAC,C;;;;;;;;;;;ACAhtC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"common/main.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;// +----------------------------------------------------------------------\n// | CRMEB [ CRMEB赋能开发者，助力企业发展 ]\n// +----------------------------------------------------------------------\n// | Copyright (c) 2016~2024 https://www.crmeb.com All rights reserved.\n// +----------------------------------------------------------------------\n// | Licensed CRMEB并不是自由软件，未经许可不能去掉CRMEB相关版权\n// +----------------------------------------------------------------------\n// | Author: CRMEB Team <admin@crmeb.com>\n// +----------------------------------------------------------------------\n\nimport Vue from 'vue'\nimport App from './App'\nimport store from './store'\nimport Cache from './utils/cache'\nimport util from 'utils/util'\nimport configs from './config/app.js'\nimport socket from './libs/new_chat.js'\nimport i18n from './utils/lang.js';\nVue.prototype.$util = util;\nVue.prototype.$config = configs;\nVue.prototype.$Cache = Cache;\nVue.prototype.$eventHub = new Vue();\nVue.prototype.$socket = new socket();\nVue.config.productionTip = false\nimport pageLoading from './components/pageLoading.vue'\nimport skeleton from './components/skeleton/index.vue'\nimport easyLoadimage from '@/components/easy-loadimage/easy-loadimage.vue'\nimport BaseMoney from './components/BaseMoney.vue';\nimport BaseTag from './components/BaseTag.vue';\nVue.component('skeleton', skeleton)\nVue.component('pageLoading', pageLoading)\nVue.component('easyLoadimage', easyLoadimage)\nVue.component('BaseMoney', BaseMoney)\nVue.component('BaseTag', BaseTag)\nimport ActivePermission from './libs/permission.js';\nVue.prototype.$permission = ActivePermission;\nimport {\n\tDebounce\n} from '@/utils/validate.js'\nVue.prototype.$Debounce = Debounce\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nApp.mpType = 'app'\n\n\nconst app = new Vue({\n\t...App,\n\tstore,\n\tCache,\n\ti18n,\n})\napp.$mount();","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\timport {\r\n\t\tcheckLogin\r\n\t} from './libs/login';\r\n\timport {\r\n\t\tHTTP_REQUEST_URL\r\n\t} from './config/app';\r\n\timport {\r\n\t\tgetShopConfig,\r\n\t\tsilenceAuth,\r\n\t\tgetSystemVersion,\r\n\t\tbasicConfig,\r\n\t\tremoteRegister\r\n\t} from '@/api/public';\r\n\timport Auth from '@/libs/wechat.js';\r\n\timport Routine from './libs/routine.js';\r\n\timport {\r\n\t\tsilenceBindingSpread\r\n\t} from '@/utils';\r\n\timport {\r\n\t\tcolorChange,\r\n\t\tgetCrmebCopyRight\r\n\t} from '@/api/api.js';\r\n\timport {\r\n\t\tgetLangJson,\r\n\t\tgetLangVersion\r\n\t} from '@/api/user.js';\r\n\timport {\r\n\t\tmapGetters\r\n\t} from 'vuex';\r\n\timport colors from '@/mixins/color.js';\r\n\timport Cache from '@/utils/cache';\r\n\timport themeList from '@/utils/theme';\r\n\timport {\r\n\t\tdebug\r\n\t} from 'util';\r\n\r\n\texport default {\r\n\t\tglobalData: {\r\n\t\t\tspid: 0,\r\n\t\t\tcode: 0,\r\n\t\t\tisLogin: false,\r\n\t\t\tuserInfo: {},\r\n\t\t\tMyMenus: [],\r\n\t\t\tglobalData: false,\r\n\t\t\tisIframe: false,\r\n\t\t\ttabbarShow: true,\r\n\t\t\twindowHeight: 0,\r\n\t\t\tlocale: ''\r\n\t\t},\r\n\t\tmixins: [colors],\r\n\t\tcomputed: mapGetters(['isLogin', 'cartNum']),\r\n\t\twatch: {\r\n\t\t\tisLogin: {\r\n\t\t\t\tdeep: true, //深度监听设置为 true\r\n\t\t\t\thandler: function(newV, oldV) {\r\n\t\t\t\t\tif (newV) {\r\n\t\t\t\t\t\t// this.getCartNum()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$store.commit('indexData/setCartNum', '');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcartNum(newCart, b) {\r\n\t\t\t\tthis.$store.commit('indexData/setCartNum', newCart + '');\r\n\t\t\t\tif (newCart > 0) {\r\n\t\t\t\t\tuni.setTabBarBadge({\r\n\t\t\t\t\t\tindex: Number(uni.getStorageSync('FOOTER_ADDCART')) || 2,\r\n\t\t\t\t\t\ttext: newCart + ''\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.hideTabBarRedDot({\r\n\t\t\t\t\t\tindex: Number(uni.getStorageSync('FOOTER_ADDCART')) || 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tconst queryData = uni.getEnterOptionsSync(); // uni-app版本 3.5.1+ 支持\r\n\t\t\tif (queryData.query.spread) {\r\n\t\t\t\tthis.$Cache.set('spread', queryData.query.spread);\r\n\t\t\t\tthis.globalData.spid = queryData.query.spread;\r\n\t\t\t\tthis.globalData.pid = queryData.query.spread;\r\n\t\t\t\tsilenceBindingSpread(this.globalData);\r\n\t\t\t}\r\n\t\t\tif (queryData.query.spid) {\r\n\t\t\t\tthis.$Cache.set('spread', queryData.query.spid);\r\n\t\t\t\tthis.globalData.spid = queryData.query.spid;\r\n\t\t\t\tthis.globalData.pid = queryData.query.spid;\r\n\t\t\t\tsilenceBindingSpread(this.globalData);\r\n\t\t\t}\r\n\t\t\tif (queryData.query.agent_id) {\r\n\t\t\t\tthis.$Cache.set('agent_id', queryData.query.agent_id);\r\n\t\t\t\tthis.globalData.agent_id = queryData.query.agent_id;\r\n\t\t\t\tsilenceBindingSpread(this.globalData);\r\n\t\t\t}\r\n\t\t\t// #ifdef MP\r\n\t\t\tif (queryData.query.scene) {\r\n\t\t\t\tlet param = this.$util.getUrlParams(decodeURIComponent(queryData.query.scene));\r\n\t\t\t\tif (param.pid) {\r\n\t\t\t\t\tthis.$Cache.set('spread', param.pid);\r\n\t\t\t\t\tthis.globalData.spid = param.pid;\r\n\t\t\t\t\tthis.globalData.pid = param.pid;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tswitch (queryData.scene) {\r\n\t\t\t\t\t\t//扫描小程序码\r\n\t\t\t\t\t\tcase 1047:\r\n\t\t\t\t\t\t\tthis.globalData.code = queryData.query.scene;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t//长按图片识别小程序码\r\n\t\t\t\t\t\tcase 1048:\r\n\t\t\t\t\t\t\tthis.globalData.code = queryData.query.scene;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t//手机相册选取小程序码\r\n\t\t\t\t\t\tcase 1049:\r\n\t\t\t\t\t\t\tthis.globalData.code = queryData.query.scene;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t//直接进入小程序\r\n\t\t\t\t\t\tcase 1001:\r\n\t\t\t\t\t\t\tthis.globalData.spid = queryData.query.scene;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsilenceBindingSpread(this.globalData);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tasync onLaunch(option) {\r\n\t\t\tuni.hideTabBar();\r\n\t\t\tlet that = this;\r\n\t\t\tbasicConfig().then((res) => {\r\n\t\t\t\tuni.setStorageSync('BASIC_CONFIG', res.data);\r\n\t\t\t});\r\n\t\t\t// #ifdef H5\r\n\t\t\tif (option.query.hasOwnProperty('mdType') && option.query.mdType == 'iframeWindow') {\r\n\t\t\t\tthis.globalData.isIframe = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.globalData.isIframe = false;\r\n\t\t\t}\r\n\t\t\tif (!this.isLogin && option.query.hasOwnProperty('remote_token')) {\r\n\t\t\t\tthis.remoteRegister(option.query.remote_token);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\tcolorChange('color_change').then((res) => {\r\n\t\t\t\tuni.setStorageSync('is_diy', res.data.is_diy);\r\n\t\t\t\tuni.$emit('is_diy', res.data.is_diy);\r\n\t\t\t\tconst themeMap = {\r\n\t\t\t\t\t1: 'blue',\r\n\t\t\t\t\t2: 'green',\r\n\t\t\t\t\t3: 'red',\r\n\t\t\t\t\t4: 'pink',\r\n\t\t\t\t\t5: 'orange'\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconst status = res.data.status;\r\n\t\t\t\tconst themeKey = themeMap[status] || 'red'; // 默认使用红色\r\n\t\t\t\tconst selectedTheme = themeList[themeKey];\r\n\t\t\t\tuni.setStorageSync('color_status', res.data.status);\r\n\t\t\t\tuni.setStorageSync('viewColor', selectedTheme);\r\n\t\t\t\tuni.$emit('ok', selectedTheme, status);\r\n\t\t\t});\r\n\t\t\tgetLangVersion().then((res) => {\r\n\t\t\t\tlet version = res.data.version;\r\n\t\t\t\tif (version != uni.getStorageSync('LANG_VERSION')) {\r\n\t\t\t\t\tgetLangJson().then((res) => {\r\n\t\t\t\t\t\tlet value = Object.keys(res.data)[0];\r\n\t\t\t\t\t\tCache.set('locale', Object.keys(res.data)[0]);\r\n\t\t\t\t\t\tthis.$i18n.setLocaleMessage(value, res.data[value]);\r\n\t\t\t\t\t\tuni.setStorageSync('localeJson', res.data);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorageSync('LANG_VERSION', version);\r\n\t\t\t});\r\n\r\n\t\t\t// #ifdef APP-PLUS || H5\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t// 首页没有title获取的整个页面的高度，里面的页面有原生标题要减掉就是视口的高度\r\n\t\t\t\t\t// 状态栏是动态的可以拿到 标题栏是固定写死的是44px\r\n\t\t\t\t\tlet height = res.windowHeight - res.statusBarHeight - 44;\r\n\t\t\t\t\t// #ifdef H5 || APP-PLUS\r\n\t\t\t\t\tthat.globalData.windowHeight = res.windowHeight + 'px';\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// // #ifdef APP-PLUS\r\n\t\t\t\t\t// that.globalData.windowHeight = height + 'px'\r\n\t\t\t\t\t// // #endif\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef MP\r\n\t\t\tif (HTTP_REQUEST_URL == '') {\r\n\t\t\t\tconsole.error(\r\n\t\t\t\t\t\"请配置根目录下的config.js文件中的 'HTTP_REQUEST_URL'\\n\\n请修改开发者工具中【详情】->【AppID】改为自己的Appid\\n\\n请前往后台【小程序】->【小程序配置】填写自己的 appId and AppSecret\"\r\n\t\t\t\t);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tconst updateManager = wx.getUpdateManager();\r\n\t\t\tconst startParamObj = wx.getEnterOptionsSync();\r\n\t\t\tif (wx.canIUse('getUpdateManager') && startParamObj.scene != 1154) {\r\n\t\t\t\tconst updateManager = wx.getUpdateManager();\r\n\t\t\t\tupdateManager.onCheckForUpdate(function(res) {\r\n\t\t\t\t\tif (res.hasUpdate) {\r\n\t\t\t\t\t\tupdateManager.onUpdateFailed(function() {\r\n\t\t\t\t\t\t\treturn that.Tips({\r\n\t\t\t\t\t\t\t\ttitle: '新版本下载失败'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tupdateManager.onUpdateReady(function() {\r\n\t\t\t\t\t\t\twx.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '更新提示',\r\n\t\t\t\t\t\t\t\tcontent: '新版本已经下载好，是否重启当前应用？',\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\tupdateManager.applyUpdate();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tupdateManager.onUpdateFailed(function() {\r\n\t\t\t\t\t\t\twx.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '发现新版本',\r\n\t\t\t\t\t\t\t\tcontent: '请删除当前小程序，重启搜索打开...'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\t// getShopConfig().then(res => {\r\n\t\t\t// \tthis.$store.commit('SETPHONESTATUS', res.data.status);\r\n\t\t\t// });\r\n\t\t\t// 获取导航高度；\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthat.globalData.navHeight = res.statusBarHeight * (750 / res.windowWidth) + 91;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// #ifdef MP\r\n\t\t\tlet menuButtonInfo = uni.getMenuButtonBoundingClientRect();\r\n\t\t\tthat.globalData.navH = menuButtonInfo.top * 2 + menuButtonInfo.height / 2;\r\n\t\t\tconst version = uni.getSystemInfoSync().SDKVersion;\r\n\t\t\tif (Routine.compareVersion(version, '2.21.3') >= 0) {\r\n\t\t\t\tthat.$Cache.set('MP_VERSION_ISNEW', true);\r\n\t\t\t} else {\r\n\t\t\t\tthat.$Cache.set('MP_VERSION_ISNEW', false);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\t// #ifdef MP\r\n\t\t\t// 小程序静默授权\r\n\t\t\t// if (!this.$store.getters.isLogin) {\r\n\t\t\t// \tRoutine.getCode()\r\n\t\t\t// \t\t.then(code => {\r\n\t\t\t// \t\t\tthis.silenceAuth(code);\r\n\t\t\t// \t\t})\r\n\t\t\t// \t\t.catch(res => {\r\n\t\t\t// \t\t\tuni.hideLoading();\r\n\t\t\t// \t\t});\r\n\t\t\t// }\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef H5\r\n\t\t\t// 添加crmeb chat 统计\r\n\t\t\t// var __s = document.createElement('script');\r\n\t\t\t// __s.src = `${HTTP_REQUEST_URL}/api/get_script`;\r\n\t\t\t// document.head.appendChild(__s);\r\n\r\n\r\n\t\t\tfetch(`${HTTP_REQUEST_URL}/api/get_script`)\r\n\t\t\t\t.then(response => response.text())\r\n\t\t\t\t.then(content => {\r\n\t\t\t\t\t// 尝试解析是否为HTML（带<script>标签）\r\n\t\t\t\t\tconst isHTML = content.trim().startsWith('<script');\r\n\r\n\t\t\t\t\tlet externalScripts = [];\r\n\t\t\t\t\tlet inlineScripts = [];\r\n\r\n\t\t\t\t\tif (isHTML) {\r\n\t\t\t\t\t\t// 情况1：带<script>标签，用DOMParser解析\r\n\t\t\t\t\t\tconst parser = new DOMParser();\r\n\t\t\t\t\t\tconst doc = parser.parseFromString(content, 'text/html');\r\n\t\t\t\t\t\tconst scripts = doc.querySelectorAll('script');\r\n\r\n\t\t\t\t\t\texternalScripts = Array.from(scripts).filter(script => script.src);\r\n\t\t\t\t\t\tinlineScripts = Array.from(scripts).filter(script => !script.src);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 情况2：不带<script>标签，直接当作内联脚本处理\r\n\t\t\t\t\t\tinlineScripts = [{\r\n\t\t\t\t\t\t\ttextContent: content\r\n\t\t\t\t\t\t}];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 1. 先加载所有外部脚本（如果有）\r\n\t\t\t\t\tconst loadExternalScripts = externalScripts.map(script => {\r\n\t\t\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\tconst newScript = document.createElement('script');\r\n\t\t\t\t\t\t\tnewScript.src = script.src;\r\n\t\t\t\t\t\t\tnewScript.onload = resolve;\r\n\t\t\t\t\t\t\tnewScript.onerror = reject;\r\n\t\t\t\t\t\t\tdocument.body.appendChild(newScript);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// 2. 等外部脚本加载完成后，再执行内联脚本\r\n\t\t\t\t\tPromise.all(loadExternalScripts)\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tinlineScripts.forEach(script => {\r\n\t\t\t\t\t\t\t\tconst newScript = document.createElement('script');\r\n\t\t\t\t\t\t\t\tnewScript.textContent = script.textContent;\r\n\t\t\t\t\t\t\t\tdocument.body.appendChild(newScript);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(error => console.error('Failed to load external scripts:', error));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => console.error('Error fetching script:', error));\r\n\r\n\r\n\t\t\t// #endif\r\n\t\t\tgetCrmebCopyRight().then((res) => {\r\n\t\t\t\tuni.setStorageSync('copyRight', res.data);\r\n\t\t\t});\r\n\t\t},\r\n\t\t// #ifdef H5\r\n\t\tonHide() {\r\n\t\t\tthis.$Cache.clear('snsapiKey');\r\n\t\t},\r\n\t\t// #endif\r\n\t\tmethods: {\r\n\t\t\tremoteRegister(remote_token) {\r\n\t\t\t\tremoteRegister({\r\n\t\t\t\t\tremote_token\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\tif (data.get_remote_login_url) {\r\n\t\t\t\t\t\tlocation.href = data.get_remote_login_url\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$store.commit('LOGIN', {\r\n\t\t\t\t\t\t\ttoken: data.token,\r\n\t\t\t\t\t\t\ttime: data.expires_time - this.$Cache.time()\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.$store.commit('SETUID', data.userInfo.uid);\r\n\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// 小程序静默授权\r\n\t\t\t// silenceAuth(code) {\r\n\t\t\t// \tlet that = this;\r\n\t\t\t// \tlet spread = that.globalData.spid ? that.globalData.spid : '';\r\n\t\t\t// \tsilenceAuth({\r\n\t\t\t// \t\t\tcode: code,\r\n\t\t\t// \t\t\tspread_spid: spread,\r\n\t\t\t// \t\t\tspread_code: that.globalData.code\r\n\t\t\t// \t\t})\r\n\t\t\t// \t\t.then(res => {\r\n\t\t\t// \t\t\tif (res.data.token !== undefined && res.data.token) {\r\n\t\t\t// \t\t\t\tuni.hideLoading();\r\n\t\t\t// \t\t\t\tlet time = res.data.expires_time - this.$Cache.time();\r\n\t\t\t// \t\t\t\tthat.$store.commit('LOGIN', {\r\n\t\t\t// \t\t\t\t\ttoken: res.data.token,\r\n\t\t\t// \t\t\t\t\ttime: time\r\n\t\t\t// \t\t\t\t});\r\n\t\t\t// \t\t\t\tthat.$store.commit('SETUID', res.data.userInfo.uid);\r\n\t\t\t// \t\t\t\tthat.$store.commit('UPDATE_USERINFO', res.data.userInfo);\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t})\r\n\t\t\t// \t\t.catch(res => {});\r\n\t\t\t// },\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style>\r\n\t@import url('@/plugin/emoji-awesome/css/tuoluojiang.css');\r\n\t@import url('@/plugin/animate/animate.min.css');\r\n\t@import 'static/css/base.css';\r\n\t@import 'static/iconfont/iconfont.css';\r\n\t@import 'static/css/guildford.css';\r\n\t@import 'static/css/style.scss';\r\n\t@import 'static/css/unocss.css';\r\n\t@import 'static/fonts/font.scss';\r\n\r\n\tview {\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\tpage {\r\n\t\tfont-family: PingFang SC;\r\n\t}\r\n\r\n\t.bg-color-red {\r\n\t\tbackground-color: var(--view-theme) !important;\r\n\t}\r\n\r\n\t.syspadding {\r\n\t\tpadding-top: var(--status-bar-height);\r\n\t}\r\n\r\n\t.flex {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.uni-scroll-view::-webkit-scrollbar {\r\n\t\t/* 隐藏滚动条，但依旧具备可以滚动的功能 */\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t::-webkit-scrollbar {\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\tcolor: transparent;\r\n\t}\r\n\r\n\t.uni-system-open-location .map-content.fix-position {\r\n\t\theight: 100vh;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t}\r\n\r\n\t.open-location {\r\n\t\twidth: 100%;\r\n\t\theight: 100vh;\r\n\t}\r\n</style>","import mod from \"-!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1749452853157\n      var cssReload = require(\"D:/download/HBuilderX.4.36.2024112817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}