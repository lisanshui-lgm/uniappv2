require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/annex/special/index"],{"25f6":function(e,t,n){"use strict";(function(e,o){var i=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(n("7ca3")),s=i(n("ae3b")),a=n("7257"),r=n("6578"),l=n("700d"),u=n("8f59"),d=n("c76b"),h=n("ac3c"),g=n("56a1"),f=n("743f");i(n("4104"));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}getApp();var b={computed:m({pageStyle:function(){return{backgroundColor:this.bgColor,backgroundImage:this.bgPic?"url(".concat(this.bgPic,")"):"",minHeight:this.windowHeight+"px"}},pdHeights:function(){var e="".concat(2*this.pdHeight+100,"rpx");return{height:this.isFooter?e:"100rpx"}}},(0,u.mapGetters)(["isLogin","uid"])),mixins:[s.default],components:{Loading:function(){n.e("components/Loading/index").then(function(){return resolve(n("1380"))}.bind(null,n)).catch(n.oe)},pageFooter:function(){Promise.all([n.e("common/vendor"),n.e("components/pageFooter/index")]).then(function(){return resolve(n("59d9"))}.bind(null,n)).catch(n.oe)},couponWindow:function(){n.e("components/couponWindow/index").then(function(){return resolve(n("103e"))}.bind(null,n)).catch(n.oe)},homeComb:function(){n.e("pages/index/components/homeComb").then(function(){return resolve(n("75cc"))}.bind(null,n)).catch(n.oe)},newVip:function(){n.e("pages/index/components/newVip").then(function(){return resolve(n("fa55"))}.bind(null,n)).catch(n.oe)},userInfor:function(){n.e("pages/index/components/userInfor").then(function(){return resolve(n("a521"))}.bind(null,n)).catch(n.oe)},headerSerch:function(){n.e("pages/index/components/headerSerch").then(function(){return resolve(n("2e90"))}.bind(null,n)).catch(n.oe)},swipers:function(){n.e("pages/index/components/swipers").then(function(){return resolve(n("7eb7"))}.bind(null,n)).catch(n.oe)},coupon:function(){n.e("pages/index/components/coupon").then(function(){return resolve(n("c1ee"))}.bind(null,n)).catch(n.oe)},articleList:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/articleList")]).then(function(){return resolve(n("490e"))}.bind(null,n)).catch(n.oe)},bargain:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/bargain")]).then(function(){return resolve(n("3496"))}.bind(null,n)).catch(n.oe)},blankPage:function(){n.e("pages/index/components/blankPage").then(function(){return resolve(n("3bbd"))}.bind(null,n)).catch(n.oe)},combination:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/combination")]).then(function(){return resolve(n("963c"))}.bind(null,n)).catch(n.oe)},customerService:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/customerService")]).then(function(){return resolve(n("4bbd"))}.bind(null,n)).catch(n.oe)},goodList:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/goodList")]).then(function(){return resolve(n("037a"))}.bind(null,n)).catch(n.oe)},guide:function(){n.e("pages/index/components/guide").then(function(){return resolve(n("fae2"))}.bind(null,n)).catch(n.oe)},liveBroadcast:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/liveBroadcast")]).then(function(){return resolve(n("b20c"))}.bind(null,n)).catch(n.oe)},menus:function(){n.e("pages/index/components/menus").then(function(){return resolve(n("3d44"))}.bind(null,n)).catch(n.oe)},pictureCube:function(){n.e("pages/index/components/pictureCube").then(function(){return resolve(n("09d6"))}.bind(null,n)).catch(n.oe)},news:function(){n.e("pages/index/components/news").then(function(){return resolve(n("6381"))}.bind(null,n)).catch(n.oe)},promotionList:function(){n.e("pages/index/components/promotionList").then(function(){return resolve(n("577b"))}.bind(null,n)).catch(n.oe)},richText:function(){n.e("pages/index/components/richText").then(function(){return resolve(n("ed89"))}.bind(null,n)).catch(n.oe)},seckill:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/seckill")]).then(function(){return resolve(n("680b"))}.bind(null,n)).catch(n.oe)},swiperBg:function(){n.e("pages/index/components/swiperBg").then(function(){return resolve(n("cc75"))}.bind(null,n)).catch(n.oe)},tabNav:function(){n.e("pages/index/components/tabNav").then(function(){return resolve(n("3ed2"))}.bind(null,n)).catch(n.oe)},titles:function(){n.e("pages/index/components/titles").then(function(){return resolve(n("86b3"))}.bind(null,n)).catch(n.oe)},ranking:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/ranking")]).then(function(){return resolve(n("b3ff"))}.bind(null,n)).catch(n.oe)},presale:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/presale")]).then(function(){return resolve(n("e6ec"))}.bind(null,n)).catch(n.oe)},pointsMall:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/pointsMall")]).then(function(){return resolve(n("cacb"))}.bind(null,n)).catch(n.oe)},videos:function(){n.e("pages/index/components/videos").then(function(){return resolve(n("e8f4"))}.bind(null,n)).catch(n.oe)},signIn:function(){n.e("pages/index/components/signIn").then(function(){return resolve(n("6888"))}.bind(null,n)).catch(n.oe)},hotspot:function(){n.e("pages/index/components/hotspot").then(function(){return resolve(n("9c32"))}.bind(null,n)).catch(n.oe)},follow:function(){n.e("pages/index/components/follow").then(function(){return resolve(n("c09f"))}.bind(null,n)).catch(n.oe)},waterfallsFlow:function(){n.e("components/WaterfallsFlow/WaterfallsFlow").then(function(){return resolve(n("2cdf"))}.bind(null,n)).catch(n.oe)}},data:function(){return{isFixed:!1,isHeaderSerch:!1,showHomeComb:!1,showCateNav:!1,homeCombData:{},headerSerchCombData:{},cateNavData:{},domOffsetTop:50,styleConfig:[],loading:!1,loadend:!1,loadTitle:"加载更多",page:1,limit:this.$config.LIMIT,numConfig:0,code:"",isCouponShow:!1,couponObj:{},couponObjs:{},shareInfo:{},footConfig:{},pageId:"",sortMpTop:0,bgColor:"",bgPic:"",bgTabVal:"",pageShow:!0,windowHeight:0,isShowAuth:!1,isScrolled:!1,sortList:"",sortAll:[],isSortType:0,hostProduct:[],hotScroll:!1,hotPage:1,hotLimit:10,curSort:0,loaded:!1,goodPage:1,goodList:[],sid:0,positionTop:0,imgHost:f.HTTP_REQUEST_URL,product_video_status:!1,isFooter:!1,pdHeight:0,entryData:{store_id:"",latitude:"",longitude:"",select_store_id:""},goodsIndex:[],promotionIndex:[],belongIndex:0,isBelongStore:!1,tabBarData:{}}},onLoad:function(t){var n=this,o=this;this.$nextTick((function(){e.getSystemInfo({success:function(e){o.windowHeight=e.windowHeight}})}));t.state,t.scope;if(this.pageId=t.id,t.scene){var i=o.$util.getUrlParams(decodeURIComponent(t.scene));this.pageId=i.id}e.setNavigationBarTitle({title:"专题栏"}),this.diyData(),this.getTempIds(),(0,r.getShare)().then((function(e){n.shareInfo=e.data}))},onUnload:function(){e.$off("activeFn")},watch:{isLogin:{deep:!0,handler:function(t,n){var o=(new Date).toLocaleDateString();if(t){try{var i=e.getStorageSync("oldDate")||""}catch(c){}i!=o&&this.getCoupon()}}}},onShow:function(){e.removeStorageSync("form_type_cart");var t=(new Date).toLocaleDateString();if(this.isLogin){try{var n=e.getStorageSync("oldDate")||""}catch(i){}n!=t&&this.getCoupon();var o=e.getStorageSync("oldUser")||0;o||this.getCouponOnce()}},mounted:function(){},methods:m(m({},(0,u.mapMutations)(["SET_NEARBY"])),{},{locationTap:function(e){this.entryData.latitude=e.latitude,this.entryData.longitude=e.longitude,this.entryStore(1)},storeTap:function(t){this.entryData.select_store_id=t,this.entryData.store_id="",e.removeStorageSync("rulesStoreId"),this.entryStore(1)},changeSort:function(e,t){this.curSort!=t&&(this.curSort=t,this.sid=e.id,this.goodList=[],this.goodPage=1,this.loaded=!1,this.getGoodsList())},bindSortId:function(e){this.styleConfig=[],1==e.type?this.getProductList(e.classPage):(this.sortList=[],this.getMicroPage(e.microPage,!0))},getMicroPage:function(t,n){var o=this,i=this;i.styleConfig=[],e.showLoading({title:"加载中..."}),(0,a.getDiy)(t).then((function(t){e.hideLoading();t.data;var n=i.objToArr(t.data.value);n=n.filter((function(e){return!e.isHide})),n.forEach((function(e,t){["headerSerch","homeComb"].includes(e.name)&&n.splice(t,1)})),o.styleConfig=n})).catch((function(e){return i.$util.Tips({title:e})}))},getProductList:function(e){var t=this;this.curSort=0,this.loaded=!1,this.sortAll.length>0?(this.sortAll.forEach((function(n,o){n.id==e&&(t.$set(t,"sortList",n),t.sid=n.children.length?n.children[0].id:"")})),this.goodList=[],this.goodPage=1,this.$nextTick((function(){""!=t.sortList&&t.getGoodsList()}))):(0,d.getCategoryList)().then((function(n){t.sortAll=n.data,n.data.forEach((function(n,o){n.id==e&&(t.sortList=n,t.sid=n.children.length?n.children[0].id:"")})),t.goodList=[],t.goodPage=1,t.$nextTick((function(){""!=t.sortList&&t.getGoodsList()}))}))},getGoodsList:function(){var e=this;this.loading||this.loaded||(this.loading=!0,(0,d.getProductslist)({sid:this.sid,keyword:"",priceOrder:"",salesOrder:"",news:0,page:this.goodPage,limit:10,cid:this.sortList.id}).then((function(t){e.loading=!1,e.loaded=t.data.length<10,e.goodPage++,e.goodList=e.goodList.concat(t.data)})))},get_host_product:function(){var e=this;e.hotScroll||(0,d.getProductHot)(e.hotPage,e.hotLimit).then((function(t){e.hotPage++,e.hotScroll=t.data.length<e.hotLimit,e.hostProduct=e.hostProduct.concat(t.data)}))},getCouponOnce:function(){var e=this;(0,a.getCouponNewUser)().then((function(t){e.couponObjs=t.data}))},couponCloses:function(){this.couponObjs.show=!1;try{e.setStorageSync("oldUser",1)}catch(t){}},getCoupon:function(){var e=this;(0,a.getCouponV2)().then((function(t){e.couponObj=t.data,t.data.list.length>0&&(e.isCouponShow=!0)}))},couponClose:function(){this.isCouponShow=!1;try{e.setStorageSync("oldDate",(new Date).toLocaleDateString())}catch(t){}},getTempIds:function(){o.getStorageSync(l.SUBSCRIBE_MESSAGE)},objToArr:function(e){var t=Object.keys(e);t.sort((function(e,t){return e-t}));var n=t.map((function(t){return e[t]}));return n},setDiyData:function(t){var n=this;if(0==t.length)return this.$util.Tips({title:"暂无数据"},{tab:3});t.is_bg_color&&(this.bgColor=t.color_picker),t.is_bg_pic&&(this.bgPic=t.bg_pic,this.bgTabVal=t.bg_tab_val),this.pageShow=t.is_show,e.setNavigationBarTitle({title:t.title});var o=[],i=[],c=[],s=this.objToArr(t.value);s.forEach((function(e,t,s){"homeComb"!==e.name||e.isHide||(n.showHomeComb=!0,n.homeCombData=e,e.searchConfig.tabVal&&(n.positionTop=43)),"headerSerch"!=e.name||e.isHide||(n.isHeaderSerch=!0,n.headerSerchCombData=e),"tabNav"!=e.name||e.isHide||(n.showCateNav=!0,n.cateNavData=e),"goodList"!=e.name||e.isHide||i.push(t),"promotionList"!=e.name||e.isHide||c.push(t),"pageFoot"==e.name&&(n.tabBarData=e,n.isFooter=!!e.effectConfig.tabVal,n.pdHeight=e.topConfig.val+e.bottomConfig.val),e.isHide||o.push(e)})),o.sort((function(e,t){return e.timestamp-t.timestamp})),this.styleConfig=o,this.goodsIndex=i,this.promotionIndex=c,this.entryStore()},getDiyData:function(){var t=this;(0,a.getDiy)(this.pageId).then((function(n){e.setStorageSync("specialDiyData",JSON.stringify(n.data)),t.setDiyData(n.data)}))},diyData:function(){this.getDiyData()},entryStore:function(e){},changeBarg:function(t){this.isLogin?e.navigateTo({url:"/pages/activity/goods_bargain_details/index?id=".concat(t.id,"&spid=").concat(this.uid)}):(0,g.toLogin)()},goDetail:function(t){(0,h.goShopDetail)(t,this.uid).then((function(n){e.navigateTo({url:"/pages/goods_details/index?id=".concat(t.id)})}))}}),onReachBottom:function(){},onPageScroll:function(t){var n=this;this.isHeaderSerch?(t.scrollTop>this.domOffsetTop&&(this.isFixed=!0),t.scrollTop<this.domOffsetTop&&this.$nextTick((function(){n.isFixed=!1}))):this.isFixed=!1,t.scrollTop>10?this.isScrolled=!0:this.isScrolled=!1,e.$emit("scroll"),e.$emit("onPageScroll",t.scrollTop)},onShareAppMessage:function(){return{title:this.shareInfo.title,path:"/pages/index/index",imageUrl:this.storeInfo.img}}};t.default=b}).call(this,n("df3c")["default"],n("3223")["default"])},"443b":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.pageShow?e.__get_style([e.pageStyle]):null),o=e.pageShow?e.sortList.children&&e.sortList.children.length:null,i=e.pageShow&&o?0==e.goodList.length&&e.loaded:null,c=e.pageShow&&e.isFooter?e.__get_style([e.pdHeights]):null;e.$mp.data=Object.assign({},{$root:{s0:n,g0:o,g1:i,s1:c}})},i=[]},"527d":function(e,t,n){"use strict";(function(e,t){var o=n("47a9");n("927f");o(n("3240"));var i=o(n("a20f"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"86f8":function(e,t,n){"use strict";var o=n("a468"),i=n.n(o);i.a},a20f:function(e,t,n){"use strict";n.r(t);var o=n("443b"),i=n("eae8");for(var c in i)["default"].indexOf(c)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(c);n("86f8");var s=n("828b"),a=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=a.exports},a468:function(e,t,n){},eae8:function(e,t,n){"use strict";n.r(t);var o=n("25f6"),i=n.n(o);for(var c in o)["default"].indexOf(c)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(c);t["default"]=i.a}},[["527d","common/runtime","common/vendor"]]]);